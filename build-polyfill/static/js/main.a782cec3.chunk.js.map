{"version":3,"sources":["store/questions/questions.types.js","ui/Form/Label/Label.jsx","ui/Form/Choice/Choice.styled.jsx","ui/Form/Choice/Choice.jsx","ui/Form/ProceedButton/ProceedButton.jsx","ui/templates/Template.styled.js","ui/Steps/IntroStep/IntroStep.question.js","ui/Steps/IntroStep/IntroStep.jsx","ui/Form/MainQuestion/MainQuestion.styled.js","ui/Form/MainQuestion/MainQuestion.jsx","ui/templates/ButtonsTemplate/ButtonsTemplate.styled.js","ui/templates/ButtonsTemplate/ButtonsTemplate.jsx","ui/Steps/NumberOfApplicantsStep/NumberOfApplicantsStep.question.js","ui/Steps/NumberOfApplicantsStep/NumberOfApplicantsStep.js","ui/Steps/FirstTimeBuyerStep/FirstTimeBuyerStep.question.js","ui/Steps/FirstTimeBuyerStep/FirstTimeBuyerStep.jsx","ui/Steps/DateOfBirthStep/DateOfBirthStep.jsx","ui/Steps/FinancialDependantsStep/FinancialDependantsStep.jsx","ui/Steps/MaritalStatusStep/MaritalStatusStep.question.js","ui/Steps/MaritalStatusStep/MaritalStatusStep.js","util/euroFormatter.js","ui/BuildingBlocks/Card/Card.styled.js","ui/BuildingBlocks/Card/Card.js","ui/Steps/IncomeStep/IncomeStep.styled.js","ui/Steps/IncomeStep/IncomeStep.question.js","ui/Steps/IncomeStep/IncomeStep.jsx","ui/Steps/OutgoingsStep/OutgoingsStep.styled.js","ui/Steps/OutgoingsStep/OutgoingsStep.question.js","ui/Theme/icons/Add.js","ui/Theme/icons/Remove.js","ui/Steps/OutgoingsStep/OutgoingsStep.jsx","store/results/results.types.js","store/results/results.actions.js","api/restApi.js","store/results/results.thunks.js","ui/Steps/SummaryStep/SummaryStep.styled.js","ui/BuildingBlocks/SummaryListItem/SummaryListItem.styled.js","ui/BuildingBlocks/SummaryListItem/SummaryListItem.js","ui/Steps/SummaryStep/SummaryStep.js","store/questions/questions.actions.js","ui/Steps/SummaryStep/SummaryStepConnected.js","store/results/results.selectors.js","api/outsidePolicyErrorCodes.js","ui/BuildingBlocks/LoanAmount/LoanAmount.styled.js","ui/BuildingBlocks/LoanAmount/LoanAmount.js","ui/BuildingBlocks/LoanAmount/LoanAmountConnected.js","ui/BuildingBlocks/ContactMethods/ContactMethods.styled.js","ui/BuildingBlocks/ContactMethods/ContactMethods.js","ui/BuildingBlocks/FinancialDetails/FinancialDetails.styled.js","ui/BuildingBlocks/FinancialDetails/FinancialDetails.js","ui/BuildingBlocks/OutsidePolicy/OutsidePolicy.styled.js","ui/BuildingBlocks/OutsidePolicy/OutsidePolicy.js","ui/BuildingBlocks/OutsidePolicy/OutsidePolicyConnected.js","ui/Steps/ResultsStep/ResultsStepSkeleton.jsx","ui/Steps/ResultsStep/ResultsStep.styled.js","ui/Steps/ResultsStep/ResultsStep.js","ui/Steps/Steps.list.js","ui/Steps/ResultsStep/ResultsStepConnected.js","store/questions/questions.selectors.js","store/questions/questions.reducer.js","store/results/results.reducer.js","withRedux.jsx","analytics/analyticsMiddleware.js","store/initReducers.js","ui/Navigation/Toolbar/Toolbar.styled.js","ui/Navigation/Toolbar/Toolbar.jsx","ui/Steps/Step/Step.styled.js","ui/Steps/Step/Step.js","ui/Steps/Step/StepConnected.js","ui/Debug/DebugToolbar.styled.js","ui/Debug/DebugToolbar.jsx","ui/Layout/PageBody/PageBody.styled.js","ui/Layout/PageBody/PageBody.jsx","ui/Layout/ProgressBar/ProgressBarConnected.js","ui/Layout/ProgressBar/ProgressBarContainer.js","ui/Calculator.jsx","ui/CalculatorConnected.jsx","ui/CalculatorWithRedux.js","index.js","ui/Theme/icons/arrow-left.svg","ui/Theme/icons/caret-down.svg","ui/Theme/icons/pencil.svg","ui/Theme/icons/plus.svg","ui/Theme/icons/cross.svg","ui/Theme/icons/ic_bonus_48.svg","ui/Theme/icons/ic_bonus_2_48.svg","ui/Theme/icons/ic_car_allowance_48.svg","ui/Theme/icons/ic_car_loan_48.svg","ui/Theme/icons/ic_child_maintenance_48.svg","ui/Theme/icons/ic_childcare_48.svg","ui/Theme/icons/ic_commission_48.svg","ui/Theme/icons/ic_credcard_48.svg","ui/Theme/icons/ic_email_48.svg","ui/Theme/icons/ic_employment_48.svg","ui/Theme/icons/ic_mobphone_48.svg","ui/Theme/icons/ic_other_48.svg","ui/Theme/icons/ic_other_income_48.svg","ui/Theme/icons/ic_overdraft_48.svg","ui/Theme/icons/ic_overtime_48.svg","ui/Theme/icons/ic_pensions_48.svg","ui/Theme/icons/ic_personal_loan_48.svg","ui/Theme/icons/ic_PPSN_48.svg","ui/Theme/icons/ic_rental_income_48.svg","ui/Theme/icons/ic_savings_48.svg","ui/Theme/icons/ic_shift_allowance_48.svg"],"names":["SAVE_ANSWER","GOTO_STEP_BY_NUMBER","GOTO_NEXT_STEP","GOTO_PREVIOUS_STEP","RESTART_CALCULATOR","Label","_ref","text","onClickLink","Array","isArray","map","item","i","react_default","a","createElement","key","Link_default","href","linkUrl","onClick","size","linkText","Choice","styled","div","_templateObject","ChoiceIcon","_templateObject2","props","isOutlined","concat","color","green80","ChoiceContent","_templateObject3","hasValue","fontFamily","bold","regular","fontSize","medium","large","title","icon","idx","currentSavedValue","modifyButtonIcon","isMandatory","modifyIconSrc","icons","undefined","React","width","className","Label_Label","style","height","src","alt","ProceedButton","_ref$isDisabled","isDisabled","_ref$isLoading","isLoading","_ref$buttonLabel","buttonLabel","Button_default","id","disabled","label","fullWidth","loading","testId","QuestionContainer","Template_styled_templateObject","QuestionHeader","Template_styled_templateObject2","QuestionContent","Template_styled_templateObject3","QuestionFooter","_templateObject4","QuestionFooterLabel","_templateObject5","QuestionFooterButton","_templateObject6","Smallprint","span","_templateObject7","grey04","IntroQuestion","labels","mainQuestion","nextButton","label4","bullets","Map","IconEmployment","IconPersonal","smallPrint","IntroStep","onClickContinue","question","_question$bullets","res","forEach","push","Form_Choice_Choice","renderBullets","ProceedButton_ProceedButton","MainContainer","MainQuestion_styled_templateObject","centered","Question","MainQuestion_styled_templateObject2","hasSmallerText","small","Hint","MainQuestion_styled_templateObject3","MainQuestion","_useState","useState","_useState2","Object","slicedToArray","isModalVisible","setIsModalVisible","textArray","questionText","split","opener","closer","infoModal","e","preventDefault","Modal_default","open","InfoPopupView_default","body","buttonText","Fragment","hint","Applicant","ButtonsTemplate_styled_templateObject","ButtonsTemplate","currentStoreValue","onChangeValue","isJoint","stepName","_question$buttons","buttons","_question$hasApplican","hasApplicantTwoQuestion","solidRadioOptions","val","value","_currentStoreValue$ap","applicantOne","_currentStoreValue$ap2","applicantTwo","MainQuestion_MainQuestion","ApplicantLabel_default","applicantNumber","SolidRadioButtons_default","groupName","radioButtons","Boolean","ApplicantsQuestion","name","template","NumberOfApplicantsStep","ButtonsTemplate_ButtonsTemplate","assign","FirstTimeBuyerQuestion","FirstTimeBuyerStep","MAX_AGE","MIN_AGE","ERROR_MESSAGE_INVALID_DATE_FORMAT","ERROR_MESSAGE_TOO_YOUNG","ERROR_MESSAGE_TOO_OLD","DateOfBirthStep","_ref$currentStoreValu","inputValueOne","setInputValueOne","_useState3","_useState4","inputValueTwo","setInputValueTwo","_useState5","_useState6","isValidDateOne","setIsValidDateOne","_useState7","_useState8","isValidDateTwo","setIsValidDateTwo","isEnabled","DateInput_default","onChange","_ref2","_ref2$inputValue","inputValue","isValid","maxYearsMonthsDaysFromNow","maxErrorMessage","minYearsMonthsDaysFromNow","minErrorMessage","invalidFormatMessage","_ref3","_ref3$inputValue","FinancialDependantsStep","inputVal","setInputVal","FormControl_default","InputLabel_default","IntegerInput_default","autoFocus","max","min","newValue","arguments","length","replace","slice","Number","isInteger","parseInt","MaritalStatusQuestion","MaritalStatusStep","euroValueToNumber","commasRemoved","String","charAt","substr","Card","Card_styled_templateObject","isVisible","grey03","Title","Card_styled_templateObject2","grey07","Body","Card_styled_templateObject3","grey06","CloseButton","Card_styled_templateObject4","onClickClose","IconClose_default","MainQuestionContainer","IncomeStep_styled_templateObject","IncomeField","attrs","data-testid","IncomeStep_styled_templateObject2","isFieldVisible","incomeFields","fieldName","placeholder","required","isZeroAllowed","MAX_DIGITS","emptyApplicantState","reduce","accumulator","fieldDefinition","IncomeStep","getInitialState","formState","setFormState","activeFieldName","setActiveFieldName","activeApplicantIndex","setActiveApplicantIndex","useEffect","handleInputChange","applicantIndex","restrictedValue","newState","clone","isFinished","_fields$basic","basic","handleCloseClick","renderInput","isFieldActive","fieldValue","BuildingBlocks_Card_Card","CurrencyInput_default","maxDigits","onFocus","handleFocus","onBlur","inputConfig","OutgoingsStep_styled_templateObject","InputContainer","OutgoingsStep_styled_templateObject2","isOpaque","OutgoingsStep_styled_templateObject3","AddMoreButtonContainer","OutgoingsStep_styled_templateObject4","Remove","OutgoingsStep_styled_templateObject5","outgoingsFields","maxValues","Add","args","viewBox","fill","xmlns","d","stroke","strokeLinecap","strokeLinejoin","currentValue","OutgoingsStep","activeInputIndex","setActiveInputIndex","fieldIndex","trimBlanksExceptOne","trimBlanksApplicant","applicantState","out","_i","_Object$entries","entries","_ref4","arr","filter","renderField","valuesArray","OutgoingsStep_styled_IncomeField","inputIndex","isAnyFieldActive","type","arrayIndex","splice","handleDeleteClick","Remove_Remove","renderDeleteButton","hidden","buttonStyle","handleAddMoreClick","renderAddMoreButton","isMainQuestionVisible","OutgoingsStep_styled_MainQuestionContainer","formStateTrimmed","POST_CALCULATION_STARTED","POST_CALCULATION_SUCCESS","POST_CALCULATION_FAILED","POST_SAVE_STARTED","POST_SAVE_SUCCESS","POST_SAVE_FAILED","SET_SELECTED_TERM_INDEX","STORE_LOAN_PURPOSE","STORE_LOAN_AMOUNT","REMOVE_ERROR_CODE","RESET_RESULTS","postCalculationFailed","data","setSelectedTermIndex","removeErrorCode","resetResults","mcxApiHost","getMcxApiDomain","window","location","host","_fetchImplementation","fetch","_apiBaseUrl","DEV_ENV","setFetchImplementation","fetchImplementation","setApiBaseUrl","apiBaseUrl","postCalculatorData","post","postCalculatorState","url","method","mode","cache","credentials","headers","Content-Type","redirect","referrer","JSON","stringify","then","response","DATA_ERROR","GENERIC_ERROR_CODE","postCalculatorDataThunk","dispatch","getState","requestData","selectRequestData","parseResponse","raiseErrors","responseBody","catch","error","errorCode","postCalculatorStateThunk","selectStateData","mcxCalcId","console","json","responseStatus","status","parsedResponse","DataError","code","this","SummarySubHeading","SummaryStep_styled_templateObject","SummaryBlock","SummaryStep_styled_templateObject2","SummaryListItem","SummaryListItem_styled_templateObject","grey02","SummaryListItem_styled_templateObject2","reduceWidth","css","SummaryListItem_styled_templateObject3","ValuesContainer","SummaryListItem_styled_templateObject4","Value","SummaryListItem_styled_templateObject5","lineHeight","xxLarge","Values","SummaryListItem_styled_templateObject6","ValuesWithApplicantLabel","SummaryListItem_styled_templateObject7","stepValues","showApplicantLabels","renderValue","index","renderValues","values","SummaryListItem_styled_Label","compact","SummaryStep","aboutYouData","incomeData","outgoingsData","onClickProceed","keys","step","BuildingBlocks_SummaryListItem_SummaryListItem","mapStepToReadableName","gotoNextStep","connect","state","selectAboutYouData","selectIncomeData","selectOutgoingsData","selectTermData","selectedTermIndex","selectSelectedTermIndex","path","selectDefaultTermIndex","selectRangeData","rangeData","loanDetails","termInYears","selectMaxLoanAmount","selectLoanPurpose","selectMaxTerm","results","selectErrorCode","selectIsPostCalculationInProgress","selectIsPostSaveInProgress","outsidePolicyErrorCodes","fadeIn","keyframes","LoanAmount_styled_templateObject","LoanAmountContainer","LoanAmount_styled_templateObject2","LoanAmount","Input","LoanAmount_styled_templateObject3","numberOfCharacters","xxxLarge","xxxxLarge","red100","darkGreen100","LoanAmountMessage","LoanAmount_styled_templateObject4","LoanAmountTip","LoanAmount_styled_templateObject5","grey05","LoanAmountError","LoanAmount_styled_templateObject6","MaxLoanAmount","LoanAmount_styled_templateObject7","MaxTerm","_templateObject8","amount","maxLoanAmount","maxTerm","onBlurLoanAmount","onShowMaxLoanAmount","maxLoanAmountInEuro","formatAsCurrency","loanAmount","setLoanAmount","isMaxLoanAmount","isGreaterThanMax","hasLoanAmountChanged","evt","target","apiErrorCodes","ownProps","amountInEuro","selectLoanAmount","ContactMethods","ContactMethods_styled_templateObject","ContactMethod","Link","ContactMethods_styled_templateObject2","corePurple100","ContactLabel","ContactMethods_styled_templateObject3","xSmall","IconContainer","ContactMethods_styled_templateObject4","darkPurple100","magenta100","AIB_PHONE_NUMBER","contactMethods","IconCallback_default","fillColor","openInNewTab","IconPhone_default","contactMethod","textUnderline","FinancialItemContainer","FinancialDetails_styled_templateObject","FinancialItemLabel","FinancialDetails_styled_templateObject2","FinancialItemAmount","FinancialDetails_styled_templateObject3","FinancialDetails","purchasePrice","deposit","repaymentAmount","financialDetail","OutsidePolicy","OutsidePolicy_styled_templateObject","OutsidePolicyParagraph","p","OutsidePolicy_styled_templateObject2","onProceedClick","ResultScreenSkeleton","react_content_loader_es","speed","primaryColor","secondaryColor","x","y","rx","ResultsContainer","TS","ResultsStep_styled_templateObject","ResultsHeader","ResultsStep_styled_templateObject2","StandoutFrame","ResultsStep_styled_templateObject3","TabsContainer","ResultsStep_styled_templateObject4","MainText","ResultsStep_styled_templateObject5","Paragraph","ResultsStep_styled_templateObject6","InfoSection","ResultsStep_styled_templateObject7","InfoLink","ResultsStep_styled_templateObject8","InfoIcon","_templateObject9","tabTitles","F","O","ResultsStep","termData","_ref$selectedTermInde","onChangeRange","onChangeTab","isOutsidePolicy","isCriticalError","isPostCalculationInProgress","isPostSaveInProgress","selectedLoanPurpose","onClickCriticalErrorAlert","hasSmallerHeaderText","setHasSmallerHeaderText","ResultsStepSkeleton","AlertPopup_default","isOpen","onConfirm","confirmLabel","LoanAmountConnected","approvedLoanAmount","isMaxLoanAmountShown","Tabs_default","onTabChange","tabIndex","loanPurposeId","handleTabChange","defaultSelectedTab","indexOf","FinancialDetails_FinancialDetails","approvedPurchasePrice","depositAmount","Range_default","initialValue","formatLabel","loanToValue","interestRate","annualisedPercentageRate","IconInfo_default","OutsidePolicyConnected","BuildingBlocks_ContactMethods_ContactMethods","Steps","SummaryStepConnected","ResultsStepConnected","includes","stepsArray","selectCurrentStep","questions","currentStep","selectCurrentStepNumber","getStepNameByNumber","stepNumber","getNextStepName","selectNextStep","selectIsAnimationForward","isAnimationForward","findIndex","selectPreviousStep","selectPercentageComplete","defaultAnswer","selectCurrentAnswer","steps","pathEq","selectNumberOfApplicants","getDataByStepAndApplicant","applicant","isJointApplication","requestSample","applicantKeys","applicants","set","compose","lensProp","convertToNumber","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","applicantLens","lensIndex","reverse","join","err","return","mapSummaryScreenFinancialData","pick","newStructure","valueFormatter","changeFalsyToZero","incomeType","defineProperty","objectSpread","version","maxTermInYears","selectedLoan","initialQuestionsState","questionsReducer","action","_action$data","_state$steps","newSteps","nextStep","previousStep","initialResultsState","loanDetailsTermwise","purchaseDetails","loanPurpose","resultsReducer","term","termKey","middleware","thunk","store","dataLayer","nextStepName","event","pageName","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","applyMiddleware","apply","createStore","combineReducers","ToolbarTitle","Toolbar_styled_templateObject","Toolbar","hasBackButton","hasCloseButton","onClickBack","TopAppBar_default","IconLeftArrow_default","opacity","StepContainer","Step_styled_templateObject","Step","currentQuestionData","commonProps","useTransition","from","transform","enter","leave","web","mapDispatchToProps","DebugToolbar","DebugToolbar_styled_templateObject","isDebugBarVisible","setIsDebugBarVisible","maxWidth","log","req","PageBody","PageBody_styled_templateObject","children","pageBodyElem","useRef","current","scrollTop","ref","percentageComplete","ProgressBar","ProgressBarStyled","ProgressBarContainer_templateObject","isNavBarVisible","ProgressBarContainer","_ref$isNavBarVisible","ProgressBarConnected","packageJson","Calculator","WrappedComponent","currentStepNumber","hostStepNumber","_ref$apiBaseUrl","onCloseCalculator","_ref$isCalcNavBarVisi","isCalcNavBarVisible","_ref$isDebugToolbarVi","isDebugToolbarVisible","gotoStepNumber","onChangeStepNumber","DebugToolbar_DebugToolbar","Toolbar_Toolbar","Layout_PageBody_PageBody","ProgressBar_ProgressBarContainer","StepConnected","gotoStepByNumber","CalculatorWithRedux","CalculatorConnected","react_redux_es","root","document","getElementById","ReactDOM","render","ui_CalculatorWithRedux","module","exports","__webpack_require__"],"mappings":"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,EAAAC,QAAiBC,EAAA1O,EAAuB,uDCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,qDCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,sDCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,4DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,8DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,oECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,+DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,wECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,gECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,iECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,+DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,4DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,iECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,+DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,4DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,mECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,gECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,+DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,+DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,oECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,2DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,oECAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB,8DCAxCwO,EAAAC,QAAiBC,EAAA1O,EAAuB","file":"static/js/main.a782cec3.chunk.js","sourcesContent":["export const SAVE_ANSWER = 'questions/saveAnswer';\nexport const GOTO_STEP_BY_NUMBER = 'questions/gotoStepByNumber';\nexport const GOTO_NEXT_STEP = 'questions/gotoNextStep';\nexport const GOTO_PREVIOUS_STEP = 'questions/gotoPreviousStep';\nexport const RESTART_CALCULATOR = 'questions/restartCalculator';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Link from '@aib/uikit-react/dist/Navigation/Link/Link';\n\nfunction Label({ text, onClickLink }) {\n  // no props or label defined, return empty html\n  if (!text) {\n    return '';\n  }\n\n  // auto-return strings\n  if (typeof text === 'string') {\n    return text;\n  }\n\n  // map shuffled strings and links\n  if (Array.isArray(text)) {\n    return text.map((item, i) => {\n      return typeof item === 'string' ? (\n        <span key={i}>{item}</span>\n      ) : (\n        // ? I don't think the below functionality is used anywhere...\n        <Link key={i} href={item.linkUrl} onClick={onClickLink} size=\"medium\">\n          {item.linkText}\n        </Link>\n      );\n    });\n  }\n}\n\nLabel.propTypes = {\n  text: PropTypes.any,\n  onClickLink: PropTypes.func,\n};\n\nexport default Label;\n","import styled from 'styled-components';\nimport {\n  fontFamily,\n  color,\n  fontSize,\n} from '@aib/design-tokens/dist/design-tokens';\n\nexport const Choice = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  margin: 0.75rem 0;\n  height: 51px;\n`;\n\nexport const ChoiceIcon = styled.div`\n  height: 47px;\n  width: 66px;\n  border: ${props => (props.isOutlined ? `2px solid ${color.green80}` : '')};\n`;\n\nexport const ChoiceContent = styled.div`\n  margin-left: 8px;\n  flex-grow: 2;\n  font-family: ${props =>\n    props.hasValue ? fontFamily.bold : fontFamily.regular};\n  font-size: ${props => (props.hasValue ? fontSize.medium : fontSize.large)};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Label from '../../Form/Label/Label';\nimport * as icons from '../../Theme/icons';\nimport * as S from './Choice.styled';\n\nfunction Choice({\n  title,\n  icon,\n  idx,\n  onClick,\n  currentSavedValue,\n  modifyButtonIcon,\n  isMandatory,\n}) {\n  const modifyIconSrc = modifyButtonIcon ? icons[modifyButtonIcon] : undefined;\n\n  function handleClick() {\n    onClick && onClick(idx);\n  }\n\n  return (\n    <S.Choice key={idx} onClick={handleClick}>\n      <S.ChoiceIcon isOutlined={!!currentSavedValue}>\n        {React.createElement(icon, { width: 47 })}\n      </S.ChoiceIcon>\n\n      <S.ChoiceContent hasValue={!!currentSavedValue}>\n        <div className=\"choice-label\">\n          <Label text={title} />\n\n          {!currentSavedValue && isMandatory && (\n            <span style={{ color: 'red' }}>&nbsp;*</span>\n          )}\n        </div>\n\n        {currentSavedValue && (\n          <div className=\"choice-value\">\n            {/* TODO: Pass Euro symbol from outside */}\n            &euro;\n            {currentSavedValue}\n          </div>\n        )}\n      </S.ChoiceContent>\n\n      <div className=\"choice-modifier\">\n        {modifyButtonIcon && (\n          <img width=\"10\" height=\"10\" src={modifyIconSrc} alt=\"edit\" />\n        )}\n      </div>\n    </S.Choice>\n  );\n}\n\nChoice.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  idx: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  currentSavedValue: PropTypes.number,\n  modifyButtonIcon: PropTypes.string,\n  isMandatory: PropTypes.bool,\n};\n\nexport default Choice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@aib/uikit-react/dist/Form/Button/Button';\n\nfunction ProceedButton({\n  onClick,\n  isDisabled = false,\n  isLoading = false,\n  buttonLabel = 'Continue',\n}) {\n  return (\n    <Button\n      id=\"proceedButton\"\n      onClick={onClick}\n      disabled={isDisabled}\n      label={buttonLabel}\n      fullWidth={true}\n      loading={isLoading}\n      testId=\"mcx-calculator-continue-button\"\n    >\n      {buttonLabel}\n    </Button>\n  );\n}\n\nProceedButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  isDisabled: PropTypes.bool,\n  buttonLabel: PropTypes.string,\n  isLoading: PropTypes.bool,\n};\n\nexport default ProceedButton;\n","import styled from 'styled-components';\nimport {\n  fontFamily,\n  color,\n  fontSize,\n} from '@aib/design-tokens/dist/design-tokens';\n\nexport const QuestionContainer = styled.div`\n  display: flex;\n  align-items: flex-start;\n  padding: 0px 37px;\n  box-sizing: border-box;\n  /*\n    50px - toolbar\n    55px - status\n  */\n  /*min-height: calc(100vh - 50px - 55px);*/\n  flex-direction: column;\n  /*overflow: hidden;*/\n  font-family: ${fontFamily.regular};\n  padding-top: 16px;\n  max-width: 500px;\n  position: relative;\n  width: 100%;\n`;\n\nexport const QuestionHeader = styled.div`\n  font-size: ${fontSize.large};\n  line-height: 1.4;\n  margin: 16px 0;\n`;\n\nexport const QuestionContent = styled.div`\n  width: 100%;\n  margin-top: 4px;\n`;\n\nexport const QuestionFooter = styled.div`\n  margin-top: 24px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-style: italic;\n`;\n\nexport const QuestionFooterLabel = styled.div`\n  text-align: center;\n  font-size: ${fontSize.medium};\n  line-height: 1.375; // TODO: no token for this;\n  width: 100%;\n  max-width: 300px;\n  margin: 16px auto 48px;\n`;\n\nexport const QuestionFooterButton = styled.div`\n  margin-bottom: 1rem;\n  text-align: center;\n  width: 100%;\n`;\n\nexport const Smallprint = styled.span`\n  font-size: 0.6875rem; // TODO: design token for this font or use a bigger font?;\n  line-height: 0.8125rem; // TODO: lineHeight tokens have no units. Not sure how to convert;\n  color: ${color.grey04};\n  text-align: center;\n  display: flex;\n  max-width: 500px;\n  font-style: normal;\n`;\n","import IconEmployment from '@aib/uikit-react/dist/Icons/IconEmployment';\nimport IconPersonal from '@aib/uikit-react/dist/Icons/IconPersonal';\n\nconst IntroQuestion = {\n  labels: {\n    mainQuestion: 'Some things you will need before you get started:',\n    nextButton: 'How much can I borrow?',\n    label4: 'It will take less than 1 min to finish',\n  },\n  bullets: new Map([\n    ['What you earn', IconEmployment],\n    ['The big things you spend on', IconPersonal],\n  ]),\n  smallPrint:\n    'Allied Irish Banks, p.l.c. is an authorised agent and servicer of AIB Mortgage Bank in relation to origination and servicing of mortgage loans and mortgages. Allied Irish Banks, p.l.c. and AIB Mortgage Bank are regulated by the Central Bank of Ireland.',\n};\n\nexport default IntroQuestion;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Choice from '../../Form/Choice/Choice';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport Label from '../../Form/Label/Label';\nimport * as TS from '../../templates/Template.styled';\nimport question from './IntroStep.question';\n\nfunction IntroStep({ onClickContinue }) {\n  const { smallPrint, labels, bullets = new Map() } = question;\n\n  function renderBullets() {\n    const res = [];\n    bullets.forEach((icon, title) => {\n      res.push(<Choice title={title} icon={icon} idx={title} key={title} />);\n    });\n    return res;\n  }\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <Label text={labels.mainQuestion} />\n      </TS.QuestionHeader>\n      <TS.QuestionContent>{renderBullets()}</TS.QuestionContent>\n      <TS.QuestionFooter>\n        <TS.QuestionFooterLabel>\n          <Label text={labels.label4} />\n        </TS.QuestionFooterLabel>\n\n        {smallPrint && <TS.Smallprint>{smallPrint}</TS.Smallprint>}\n        <TS.QuestionFooterLabel>\n          <ProceedButton\n            onClick={onClickContinue}\n            buttonLabel={labels.nextButton || ''}\n          />\n        </TS.QuestionFooterLabel>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nIntroStep.propTypes = {\n  onClickContinue: PropTypes.func.isRequired,\n};\n\nexport default IntroStep;\n","import styled from 'styled-components';\nimport { fontFamily, fontSize } from '@aib/design-tokens/dist/design-tokens';\n\nexport const MainContainer = styled.div`\n  text-align: ${props => props.centered && 'center'};\n  position: sticky;\n  top: 300px;\n`;\n\nexport const Question = styled.div`\n  font-family: ${fontFamily.regular};\n  font-size: ${props =>\n    props.hasSmallerText ? fontSize.small : fontSize.large};\n`;\n\nexport const Hint = styled.div`\n  font-size: ${fontSize.medium};\n  font-family: ${fontFamily.regular};\n  margin-left: 8px;\n  color: #808080;\n`;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '@aib/uikit-react/dist/Animations/Modal/Modal';\nimport InfoPopupView from '@aib/uikit-react/dist/Content/InfoPopupView/InfoPopupView';\nimport * as S from './MainQuestion.styled';\nimport Link from '@aib/uikit-react/dist/Navigation/Link/Link';\n\nfunction MainQuestion(props) {\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  function handleLinkClick(e) {\n    e.preventDefault();\n    setIsModalVisible(true);\n  }\n\n  const textArray = props.questionText.split('{a}');\n  const opener = textArray[0];\n  const closer = textArray[1];\n\n  return (\n    <S.MainContainer centered={props.centered}>\n      <S.Question hasSmallerText={props.hasSmallerText}>\n        <span>{opener}</span>\n        {props.infoModal && (\n          <Link onClick={handleLinkClick}>{props.infoModal.title}</Link>\n        )}\n\n        <Modal open={isModalVisible}>\n          {props.infoModal ? (\n            <InfoPopupView\n              title={props.infoModal.title}\n              body={props.infoModal.body}\n              buttonText={props.infoModal.buttonText}\n              onClick={() => setIsModalVisible(false)}\n            />\n          ) : (\n            <React.Fragment />\n          )}\n        </Modal>\n        {closer && <span>{closer}</span>}\n      </S.Question>\n      {props.hint && <S.Hint>({props.hint})</S.Hint>}\n    </S.MainContainer>\n  );\n}\n\nMainQuestion.propTypes = {\n  questionText: PropTypes.string.isRequired,\n  hint: PropTypes.string,\n  infoModal: PropTypes.object,\n  centered: PropTypes.bool,\n  hasSmallerText: PropTypes.bool,\n};\n\nexport default MainQuestion;\n","import styled from 'styled-components';\n\nexport const Applicant = styled.div`\n  margin-top: 16px;\n`;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport ApplicantLabel from '@aib/uikit-react/dist/Form/ApplicantLabel/ApplicantLabel';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport SolidRadioButtons from '@aib/uikit-react/dist/Form/SolidRadioButtons/SolidRadioButtons';\nimport * as TS from '../Template.styled';\nimport * as S from './ButtonsTemplate.styled';\n\nfunction ButtonsTemplate({\n  question,\n  onClickContinue,\n  currentStoreValue,\n  onChangeValue,\n  isJoint,\n  stepName,\n}) {\n  const {\n    buttons = [],\n    labels,\n    infoModal,\n    hasApplicantTwoQuestion = true,\n  } = question;\n\n  const solidRadioOptions = buttons.map(val => ({\n    value: val.text,\n    label: val.text,\n  }));\n\n  const { applicantOne = '', applicantTwo = '' } = currentStoreValue;\n\n  const handleValueChangeOne = val => {\n    onChangeValue(stepName, val, applicantTwo);\n  };\n  const handleValueChangeTwo = val => {\n    onChangeValue(stepName, applicantOne, val);\n  };\n\n  const isValid = () => {\n    return isJoint && hasApplicantTwoQuestion\n      ? Boolean(applicantOne && applicantTwo)\n      : Boolean(applicantOne);\n  };\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <MainQuestion\n          questionText={labels.mainQuestion}\n          infoModal={infoModal}\n        />\n      </TS.QuestionHeader>\n\n      <TS.QuestionContent>\n        <S.Applicant>\n          {isJoint && hasApplicantTwoQuestion && (\n            <ApplicantLabel applicantNumber={1} />\n          )}\n          <SolidRadioButtons\n            groupName=\"groupName\"\n            value={applicantOne}\n            radioButtons={solidRadioOptions}\n            onClick={handleValueChangeOne}\n            testId=\"mcx-calculator-solid-radio-buttons-applicant-1\"\n          />\n        </S.Applicant>\n        {isJoint && hasApplicantTwoQuestion && (\n          <S.Applicant>\n            {isJoint && hasApplicantTwoQuestion && (\n              <ApplicantLabel applicantNumber={2} />\n            )}\n            <SolidRadioButtons\n              groupName=\"groupName\"\n              value={applicantTwo}\n              radioButtons={solidRadioOptions}\n              onClick={handleValueChangeTwo}\n              testId=\"mcx-calculator-solid-radio-buttons-applicant-2\"\n            />\n          </S.Applicant>\n        )}\n      </TS.QuestionContent>\n\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton\n            onClick={onClickContinue}\n            buttonLabel={labels.nextButton}\n            isDisabled={!isValid()}\n          />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nButtonsTemplate.propTypes = {\n  question: PropTypes.object.isRequired,\n  onClickContinue: PropTypes.func.isRequired,\n  currentStoreValue: PropTypes.any,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\n\nexport default ButtonsTemplate;\n","const ApplicantsQuestion = {\n  name: 'ApplicantsQuestion',\n  template: 'BUTTONS',\n  hasApplicantTwoQuestion: false,\n  labels: {\n    mainQuestion: 'How many people are applying?',\n  },\n  buttons: [\n    {\n      text: '1',\n    },\n    {\n      text: '2',\n    },\n  ],\n};\n\nexport default ApplicantsQuestion;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport ButtonsTemplate from '../../templates/ButtonsTemplate/ButtonsTemplate';\nimport question from './NumberOfApplicantsStep.question';\n\nfunction NumberOfApplicantsStep(props) {\n  return <ButtonsTemplate {...props} question={question} />;\n}\n\nNumberOfApplicantsStep.propTypes = ButtonsTemplate.propTypes;\n\nexport default NumberOfApplicantsStep;\n","const FirstTimeBuyerQuestion = {\n  name: 'FirstTimeBuyerQuestion',\n  labels: {\n    mainQuestion: 'Are you a {a}?',\n  },\n  infoModal: {\n    title: 'First Time Buyer',\n    body: [\n      'You are a First Time Buyer if you have never borrowed for a house before.',\n      'If there are more than one of you applying, both of you must never have borrowed for a house before to qualify as first time buyers.',\n    ],\n    buttonText: 'Got it',\n  },\n  buttons: [\n    {\n      text: 'Yes',\n    },\n    {\n      text: 'No',\n    },\n  ],\n};\n\nexport default FirstTimeBuyerQuestion;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport ButtonsTemplate from '../../templates/ButtonsTemplate/ButtonsTemplate';\nimport question from './FirstTimeBuyerStep.question';\n\nfunction FirstTimeBuyerStep(props) {\n  return <ButtonsTemplate {...props} question={question} />;\n}\n\nFirstTimeBuyerStep.propTypes = ButtonsTemplate.propTypes;\n\nexport default FirstTimeBuyerStep;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DateInput from '@aib/uikit-react/dist/Form/DateInput/DateInput';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport * as TS from '../../templates/Template.styled';\nimport ApplicantLabel from '@aib/uikit-react/dist/Form/ApplicantLabel/ApplicantLabel';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\n\nconst MAX_AGE = 64;\nconst MIN_AGE = 18;\n\nconst ERROR_MESSAGE_INVALID_DATE_FORMAT = 'Please enter a valid date of birth';\nconst ERROR_MESSAGE_TOO_YOUNG = 'Sorry, you have to be over 18 to apply';\nconst ERROR_MESSAGE_TOO_OLD =\n  'Sorry, the loan must be repaid by your 69th birthday to apply (min. term 5 yrs)';\n\nfunction DateOfBirthStep({\n  onClickContinue,\n  currentStoreValue = { applicantOne: '', applicantTwo: '' },\n  onChangeValue,\n  isJoint,\n  stepName,\n}) {\n  const { applicantOne = '', applicantTwo = '' } = currentStoreValue;\n  const [inputValueOne, setInputValueOne] = useState(applicantOne || '');\n  const [inputValueTwo, setInputValueTwo] = useState(applicantTwo || '');\n  const [isValidDateOne, setIsValidDateOne] = useState(false);\n  const [isValidDateTwo, setIsValidDateTwo] = useState(false);\n\n  // DateInput does the validation\n  function handleInputChangeOne({ inputValue = '', isValid }) {\n    setIsValidDateOne(isValid);\n    setInputValueOne(inputValue);\n  }\n\n  function handleInputChangeTwo({ inputValue = '', isValid }) {\n    setIsValidDateTwo(isValid);\n    setInputValueTwo(inputValue);\n  }\n\n  function handleContinueClick() {\n    onChangeValue(stepName, inputValueOne, inputValueTwo);\n    onClickContinue();\n  }\n\n  function isPageValid() {\n    if (isJoint) {\n      return isValidDateOne && isValidDateTwo;\n    } else {\n      return isValidDateOne;\n    }\n  }\n\n  const isEnabled = isPageValid();\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <MainQuestion\n          questionText=\"When were you born?\"\n          hint=\"the mortgage term depends on your age\"\n        />\n      </TS.QuestionHeader>\n\n      <TS.QuestionContent>\n        {isJoint && <ApplicantLabel applicantNumber={1} />}\n\n        <DateInput\n          onChange={handleInputChangeOne}\n          value={inputValueOne}\n          maxYearsMonthsDaysFromNow={[-MIN_AGE]}\n          maxErrorMessage={ERROR_MESSAGE_TOO_YOUNG}\n          minYearsMonthsDaysFromNow={[MAX_AGE]}\n          minErrorMessage={ERROR_MESSAGE_TOO_OLD}\n          invalidFormatMessage={ERROR_MESSAGE_INVALID_DATE_FORMAT}\n          testId=\"mcx-calculator-date-input-applicant-1\"\n        />\n      </TS.QuestionContent>\n\n      {isJoint && (\n        <TS.QuestionContent>\n          <ApplicantLabel applicantNumber={2} />\n          <DateInput\n            onChange={handleInputChangeTwo}\n            value={inputValueTwo}\n            maxYearsMonthsDaysFromNow={[-MIN_AGE]}\n            maxErrorMessage={ERROR_MESSAGE_TOO_YOUNG}\n            minYearsMonthsDaysFromNow={[MAX_AGE]}\n            minErrorMessage={ERROR_MESSAGE_TOO_OLD}\n            invalidFormatMessage={ERROR_MESSAGE_INVALID_DATE_FORMAT}\n            testId=\"mcx-calculator-date-input-applicant-2\"\n          />\n        </TS.QuestionContent>\n      )}\n\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton\n            onClick={handleContinueClick}\n            isDisabled={!isEnabled}\n          />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nDateOfBirthStep.propTypes = {\n  onClickContinue: PropTypes.func.isRequired,\n  currentStoreValue: PropTypes.any,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\n\nexport default DateOfBirthStep;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport IntegerInput from '@aib/uikit-react/dist/Form/IntegerInput/IntegerInput';\nimport InputLabel from '@aib/uikit-react/dist/Form/InputLabel/InputLabel';\nimport FormControl from '@aib/uikit-react/dist/Form/FormControl/FormControl';\n\nimport * as TS from '../../templates/Template.styled';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\n\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\n\nfunction FinancialDependantsStep({\n  onClickContinue,\n  currentStoreValue,\n  onChangeValue,\n  isJoint,\n  stepName,\n}) {\n  const { applicantOne = '' } = currentStoreValue;\n  const [inputVal, setInputVal] = useState(applicantOne || '');\n\n  const handleInputChange = (val = '') => {\n    const digits = val.replace(/\\D/g, '');\n\n    // Never show an error message\n    // Only allow 2 digits\n    const newValue = digits.slice(0, 2);\n    setInputVal(newValue);\n    onChangeValue(stepName, newValue);\n  };\n\n  const isFinished = () => Number.isInteger(parseInt(inputVal));\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <MainQuestion\n          questionText={\n            isJoint\n              ? 'How many children depend on both of you financially?'\n              : 'How many financially dependant children do you have?'\n          }\n          hint={\n            isJoint\n              ? 'this figure includes children that you both share and/or children specific to either one of you'\n              : ''\n          }\n        />\n      </TS.QuestionHeader>\n\n      <TS.QuestionContent>\n        <FormControl>\n          <InputLabel>{}</InputLabel>\n          <IntegerInput\n            autoFocus={false}\n            fullWidth={false}\n            max={99}\n            min={0}\n            onChange={handleInputChange}\n            value={inputVal}\n            testId=\"mcx-calculator-dependant-children-input\"\n          />\n        </FormControl>\n      </TS.QuestionContent>\n\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton onClick={onClickContinue} isDisabled={!isFinished()} />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nFinancialDependantsStep.propTypes = {\n  onClickContinue: PropTypes.func.isRequired,\n  currentStoreValue: PropTypes.any,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\nexport default FinancialDependantsStep;\n","const MaritalStatusQuestion = {\n  name: 'MaritalStatusQuestion',\n  template: 'BUTTONS',\n  hasApplicantTwoQuestion: true,\n  labels: {\n    mainQuestion: 'What is your marital status?',\n  },\n  buttons: [\n    {\n      text: 'Single',\n    },\n    {\n      text: 'Married / Civil partner',\n    },\n    {\n      text: 'Divorced / Separated',\n    },\n    {\n      text: 'Widowed',\n    },\n    {\n      text: 'Cohabitant',\n    },\n  ],\n};\n\nexport default MaritalStatusQuestion;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport ButtonsTemplate from '../../templates/ButtonsTemplate/ButtonsTemplate';\nimport question from './MaritalStatusStep.question';\n\nfunction MaritalStatusStep(props) {\n  return <ButtonsTemplate {...props} question={question} />;\n}\n\nMaritalStatusStep.propTypes = ButtonsTemplate.propTypes;\n\nexport default MaritalStatusStep;\n","export const euroValueToNumber = (value = '') => {\n  let commasRemoved = String(value).replace(/,/g, '');\n  // Then remove the euro symbol and convert to number:\n  return commasRemoved.charAt(0) === ''\n    ? Number(commasRemoved.substr(1))\n    : Number(commasRemoved);\n};\n","import styled from 'styled-components';\n\n/* eslint-disable no-unused-vars */\nimport {\n  fontFamily,\n  color,\n  fontSize,\n  breakpoint,\n  zIndex,\n  lineHeight,\n} from '@aib/design-tokens/dist/design-tokens';\n/* eslint-disable no-unused-vars */\n\nexport const Card = styled.div`\n  box-sizing: border-box;\n  padding: 12px 41px 12px 20px;\n  will-change: opacity;\n  opacity: ${props => (props.isVisible ? 1 : 0)};\n  transition: opacity 500ms ease-in-out;\n  position: absolute;\n  bottom: 70px;\n  font-size: ${fontSize.large};\n  font-family: ${fontFamily.regular};\n  background-color: white;\n  width: 100%;\n  box-shadow: 4px 4px 7px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  border: 0.5px solid ${color.grey03};\n`;\n\nexport const Title = styled.div`\n  font-size: ${fontSize.large};\n  font-family: ${fontFamily.regular};\n  color: ${color.grey07};\n`;\n\nexport const Body = styled.div`\n  margin-top: 8px;\n  font-size: ${fontSize.small};\n  font-family: ${fontFamily.regular};\n  margin-left: 8px;\n  color: ${color.grey06};\n`;\n\nexport const CloseButton = styled.div`\n  position: absolute;\n  top: 2px;\n  right: 4px;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as S from './Card.styled';\nimport IconClose from '@aib/uikit-react/dist/Icons/IconClose';\n\nfunction Card({ title, body, isVisible, onClickClose }) {\n  function handleCloseClick() {\n    onClickClose && onClickClose();\n  }\n  return (\n    <S.Card isVisible={isVisible}>\n      <S.Title>{title}</S.Title>\n      <S.Body>{body}</S.Body>\n      <S.CloseButton>\n        <IconClose onClick={handleCloseClick} />\n      </S.CloseButton>\n    </S.Card>\n  );\n}\n\nCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n  isVisible: PropTypes.bool.isRequired,\n  onClickClose: PropTypes.func,\n};\n\nexport default Card;\n","import styled from 'styled-components';\n\nexport const MainQuestionContainer = styled.div`\n  will-change: opacity;\n  opacity: ${props => (props.isVisible ? 1 : 0)};\n  transition: opacity 500ms;\n`;\n\nexport const IncomeField = styled.div.attrs(({ testId }) => ({\n  'data-testid': testId,\n}))`\n  will-change: opacity;\n  opacity: ${props => (props.isFieldVisible ? 1 : 0.2)};\n  transition: opacity 500ms ease-in-out;\n  position: relative;\n  margin-bottom: 24px;\n`;\n","export const incomeFields = [\n  {\n    fieldName: 'basic',\n    label: 'Basic income *',\n    placeholder: '',\n    required: true,\n    isZeroAllowed: true,\n    questionText: 'How much do you earn per year before tax?',\n    hint: '(this is your total guaranteed basic income before tax)',\n  },\n  {\n    fieldName: 'carAllowance',\n    label: 'Car allowance',\n    placeholder: '0',\n    required: false,\n    isZeroAllowed: false,\n    questionText: 'How much is your car allowance per year before tax?',\n    hint:\n      '(this includes any regular payment from your employer for the business use of your personal vehicle)',\n  },\n  {\n    fieldName: 'shiftAllowance',\n    label: 'Shift allowance',\n    placeholder: '0',\n    required: false,\n    isZeroAllowed: false,\n    questionText: 'How much is your shift allowance per year before tax?',\n    hint:\n      '(This includes any regular payment from your employer for timing or nature of your job e.g. unsociable hours allowance)',\n  },\n  {\n    fieldName: 'overtime',\n    label: 'Overtime',\n    placeholder: '0',\n    required: false,\n    isZeroAllowed: false,\n    questionText: 'How much overtime do you earn per year before tax?',\n    hint: '(Average amount for the last 3 years. We count 50% of this)',\n  },\n  {\n    fieldName: 'bonus',\n    label: 'Bonus',\n    placeholder: '0',\n    required: false,\n    isZeroAllowed: false,\n    questionText: 'How much bonus do you earn per year before tax?',\n    hint: '(Average amount for the last 3 years. We count 50% of this)',\n  },\n  {\n    fieldName: 'commission',\n    label: 'Commission',\n    placeholder: '0',\n    required: false,\n    isZeroAllowed: false,\n    questionText: 'How much commission do you earn per year before tax?',\n    hint: '(Average amount for the last 3 years. We count 50% of this)',\n  },\n];\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { clone } from 'ramda';\nimport CurrencyInput from '@aib/uikit-react/dist/Form/CurrencyInput/CurrencyInput';\nimport FormControl from '@aib/uikit-react/dist/Form/FormControl/FormControl';\nimport Label from '@aib/uikit-react/dist/Form/InputLabel/InputLabel';\nimport { euroValueToNumber } from '../../../util/euroFormatter';\nimport * as TS from '../../templates/Template.styled';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport ApplicantLabel from '@aib/uikit-react/dist/Form/ApplicantLabel/ApplicantLabel';\nimport Card from '../../BuildingBlocks/Card/Card';\nimport * as S from './IncomeStep.styled';\nimport { incomeFields } from './IncomeStep.question';\n\nconst MAX_DIGITS = 7;\n\nfunction emptyApplicantState() {\n  return incomeFields.reduce((accumulator, fieldDefinition) => {\n    const { fieldName } = fieldDefinition;\n    accumulator[fieldName] = '';\n    return accumulator;\n  }, {});\n}\n\nfunction IncomeStep({\n  onClickContinue,\n  currentStoreValue,\n  onChangeValue,\n  isJoint,\n  stepName,\n}) {\n  const [formState, setFormState] = useState(\n    getInitialState(isJoint, currentStoreValue)\n  );\n  const [activeFieldName, setActiveFieldName] = useState('');\n  const [activeApplicantIndex, setActiveApplicantIndex] = useState(0);\n\n  useEffect(() => {\n    setFormState(getInitialState(isJoint, currentStoreValue));\n  }, [isJoint, currentStoreValue]);\n\n  function getInitialState(isJoint, currentStoreValue) {\n    const { applicantOne, applicantTwo } = currentStoreValue;\n    const initialState = [\n      applicantOne || emptyApplicantState(),\n      isJoint ? applicantTwo || emptyApplicantState() : undefined,\n    ];\n    return initialState;\n  }\n\n  const handleInputChange = (\n    val = '',\n    fieldName,\n    applicantIndex,\n    fieldDefinition\n  ) => {\n    // Never show an error message\n    // Max 9,999,999\n    const { isZeroAllowed } = fieldDefinition;\n    const restrictedValue =\n      euroValueToNumber(val) <= 0 && !isZeroAllowed ? '' : val;\n    const newState = clone(formState);\n    const newApplicantState = newState[applicantIndex] || {};\n    newApplicantState[fieldName] = restrictedValue;\n    setFormState(newState);\n  };\n\n  function handleProceedClick() {\n    onChangeValue(stepName, formState[0], formState[1]);\n    onClickContinue();\n  }\n\n  function isFinished(fields = {}) {\n    const { basic = '' } = fields;\n    return euroValueToNumber(basic) > 0;\n  }\n\n  function handleFocus(fieldName, applicantIndex) {\n    // TODO: Fix error in console around second callback argument in console\n    setActiveFieldName(fieldName, applicantIndex);\n    setActiveApplicantIndex(applicantIndex);\n  }\n  function handleBlur() {\n    setActiveFieldName('');\n  }\n\n  function handleCloseClick() {\n    setActiveFieldName('');\n  }\n\n  function isPageFinished() {\n    if (isJoint) {\n      return isFinished(formState[0]) || isFinished(formState[1]);\n    } else {\n      return isFinished(formState[0]);\n    }\n  }\n\n  function renderInput(fieldDefinition, applicantIndex) {\n    const { fieldName, label, placeholder } = fieldDefinition;\n    const isFieldActive =\n      fieldName === activeFieldName && applicantIndex === activeApplicantIndex;\n    const isFieldVisible = isFieldActive || !activeFieldName;\n    const applicantState = formState[applicantIndex] || {};\n\n    const fieldValue = applicantState[fieldName];\n    const testId = `mcx-calculator-income-${fieldName}-applicant-${applicantIndex +\n      1}`;\n    return (\n      <S.IncomeField\n        key={fieldName}\n        isFieldVisible={isFieldVisible}\n        testId={testId}\n      >\n        <TS.QuestionContent>\n          {isFieldActive && (\n            <Card\n              isVisible={isFieldActive}\n              title={fieldDefinition.questionText}\n              body={fieldDefinition.hint}\n              onClickClose={handleCloseClick}\n            />\n          )}\n\n          <FormControl>\n            <Label>{label}</Label>\n            <CurrencyInput\n              autoFocus={false}\n              fullWidth={true}\n              placeholder={placeholder}\n              onChange={value =>\n                handleInputChange(\n                  value,\n                  fieldName,\n                  applicantIndex,\n                  fieldDefinition\n                )\n              }\n              value={fieldValue || ''}\n              maxDigits={MAX_DIGITS}\n              onFocus={() => handleFocus(fieldName, applicantIndex)}\n              onBlur={() => handleBlur()}\n            />\n          </FormControl>\n        </TS.QuestionContent>\n      </S.IncomeField>\n    );\n  }\n\n  const isVisible = activeFieldName === '';\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <S.MainQuestionContainer isVisible={isVisible}>\n          <MainQuestion\n            questionText=\"What type of employment income do you earn?\"\n            hint=\"annual amount before tax\"\n          />\n        </S.MainQuestionContainer>\n      </TS.QuestionHeader>\n\n      <TS.QuestionContent>\n        {isJoint && <ApplicantLabel applicantNumber={1} />}\n        <br />\n        {incomeFields.map(inputConfig => renderInput(inputConfig, 0))}\n      </TS.QuestionContent>\n\n      {isJoint && (\n        <TS.QuestionContent>\n          <br />\n          <br />\n          <br />\n          <ApplicantLabel applicantNumber={2} />\n          {incomeFields.map(inputConfig => renderInput(inputConfig, 1))}\n        </TS.QuestionContent>\n      )}\n\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton\n            onClick={handleProceedClick}\n            isDisabled={!isPageFinished()}\n          />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nIncomeStep.propTypes = {\n  onClickContinue: PropTypes.func.isRequired,\n  currentStoreValue: PropTypes.any,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\nexport default IncomeStep;\n","import styled from 'styled-components';\n\nexport const MainQuestionContainer = styled.div`\n  will-change: opacity;\n  opacity: ${props => (props.isVisible ? 1 : 0)};\n  transition: opacity 500ms;\n`;\n\nexport const InputContainer = styled.div.attrs(({ testId }) => ({\n  'data-testid': testId,\n}))`\n  will-change: opacity;\n  opacity: ${props => (props.isOpaque ? 1 : 0.2)};\n  transition: opacity 500ms ease-in-out;\n  position: relative;\n  margin-bottom: 24px;\n`;\n\nexport const IncomeField = styled.div``;\n\nexport const AddMoreButtonContainer = styled.div`\n  text-align: right;\n  will-change: opacity;\n  opacity: ${props => (props.isOpaque ? 1 : 0.2)};\n  transition: opacity 500ms ease-in-out;\n`;\nexport const Remove = styled.div`\n  position: absolute;\n  right: 0px;\n  bottom: 2px;\n`;\n","export const outgoingsFields = [\n  {\n    fieldName: 'personalLoans',\n    label: 'Personal loan',\n    placeholder: '0',\n    questionText: 'How much do you repay each month for your personal loan?',\n    hint: '',\n    maxValues: 5,\n  },\n  {\n    fieldName: 'carLoans',\n    label: 'Car loan',\n    placeholder: '0',\n    questionText: 'How much do you repay each month for your car loan?',\n    hint: '',\n    maxValues: 5,\n  },\n  {\n    fieldName: 'others',\n    label: 'Other',\n    placeholder: '0',\n    questionText: 'Do you have any monthly repayments for other loans?',\n    hint: '',\n    maxValues: 5,\n  },\n  {\n    fieldName: 'childcare',\n    label: 'Childcare',\n    placeholder: '0',\n    questionText: 'How much do you pay into childcare each month?',\n    hint: '',\n    maxValues: 1,\n  },\n  {\n    fieldName: 'childMaintenance',\n    label: 'Child maintenance',\n    placeholder: '0',\n    questionText: 'How much Child Maintenance do you pay each month?',\n    hint:\n      '(Maintenance is money paid for the benefit of an ex-spouse/civil partner and dependent children)',\n    maxValues: 1,\n  },\n];\n","import React from 'react';\n\nexport default function Add(args) {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\"\n        stroke=\"#00856A\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12 8V16\"\n        stroke=\"#00856A\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M8 12H16\"\n        stroke=\"#00856A\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function Remove(args) {\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\"\n        stroke=\"#E32837\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M15 9L9 15\"\n        stroke=\"#E32837\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M9 9L15 15\"\n        stroke=\"#E32837\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { clone } from 'ramda';\nimport CurrencyInput from '@aib/uikit-react/dist/Form/CurrencyInput/CurrencyInput';\nimport FormControl from '@aib/uikit-react/dist/Form/FormControl/FormControl';\nimport Label from '@aib/uikit-react/dist/Form/InputLabel/InputLabel';\nimport Button from '@aib/uikit-react/dist/Form/Button/Button';\nimport * as TS from '../../templates/Template.styled';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport ApplicantLabel from '@aib/uikit-react/dist/Form/ApplicantLabel/ApplicantLabel';\nimport Card from '../../BuildingBlocks/Card/Card';\nimport * as S from './OutgoingsStep.styled';\nimport { outgoingsFields } from './OutgoingsStep.question';\nimport Add from '../../Theme/icons/Add';\nimport Remove from '../../Theme/icons/Remove';\n\nfunction getInitialState() {\n  return outgoingsFields.reduce((accumulator, currentValue) => {\n    const { fieldName } = currentValue;\n    accumulator[fieldName] = [''];\n    return accumulator;\n  }, {});\n}\n\nconst MAX_DIGITS = 6;\n\nfunction OutgoingsStep({\n  onClickContinue,\n  currentStoreValue,\n  onChangeValue,\n  isJoint,\n  stepName,\n}) {\n  const { applicantOne, applicantTwo } = currentStoreValue;\n\n  const [formState, setFormState] = useState([\n    applicantOne || getInitialState(),\n    applicantTwo || getInitialState(),\n  ]);\n\n  const [activeApplicantIndex, setActiveApplicantIndex] = useState(0);\n  const [activeFieldName, setActiveFieldName] = useState('');\n  const [activeInputIndex, setActiveInputIndex] = useState(0);\n\n  const handleInputChange = (\n    val = '',\n    applicantIndex,\n    fieldName,\n    fieldIndex\n  ) => {\n    let newState = clone(formState);\n\n    newState[applicantIndex][fieldName][fieldIndex] = val;\n\n    setFormState(newState);\n  };\n\n  function handleProceedClick() {\n    const formStateTrimmed = trimBlanksExceptOne(formState);\n    onChangeValue(\n      stepName,\n      formStateTrimmed[0],\n      isJoint ? formStateTrimmed[1] : null\n    );\n    onClickContinue();\n  }\n\n  const trimBlanksExceptOne = formState => formState.map(trimBlanksApplicant);\n  const trimBlanksApplicant = applicantState => {\n    const out = {};\n    for (const [key, arr] of Object.entries(applicantState)) {\n      out[key] = arr.filter(val => !!val);\n      out[key] = out[key].length === 0 ? [''] : out[key];\n    }\n    return out;\n  };\n\n  function handleFocus(applicantIndex, fieldName, arrayIndex) {\n    setActiveApplicantIndex(applicantIndex);\n    setActiveFieldName(fieldName);\n    setActiveInputIndex(arrayIndex);\n  }\n  function handleBlur() {\n    setActiveFieldName('');\n  }\n\n  function handleCloseClick() {\n    setActiveFieldName('');\n  }\n\n  function renderField(fieldDefinition, applicantIndex) {\n    const applicantState = formState[applicantIndex];\n    const { fieldName, maxValues } = fieldDefinition;\n\n    const valuesArray = applicantState[fieldName];\n\n    return (\n      <S.IncomeField key={fieldName}>\n        {valuesArray.map((inputValue, inputIndex) =>\n          renderInput(fieldDefinition, applicantIndex, inputIndex)\n        )}\n        {maxValues > 1 && renderAddMoreButton(applicantIndex, fieldDefinition)}\n      </S.IncomeField>\n    );\n  }\n\n  function renderInput(fieldDefinition, applicantIndex, inputIndex) {\n    const { fieldName, label, placeholder } = fieldDefinition;\n    const applicantState = formState[applicantIndex];\n\n    const fieldValue = applicantState[fieldName][inputIndex];\n\n    const isFieldActive =\n      applicantIndex === activeApplicantIndex &&\n      fieldName === activeFieldName &&\n      inputIndex === activeInputIndex;\n    const isAnyFieldActive = activeFieldName !== '';\n    const isOpaque = isFieldActive || !isAnyFieldActive;\n    const testId = `mcx-calculator-outgoings-${fieldName}-applicant-${applicantIndex +\n      1}-${inputIndex}`;\n    return (\n      <S.InputContainer\n        key={`${applicantIndex}_${fieldName}_${inputIndex}`}\n        isOpaque={isOpaque}\n        testId={testId}\n      >\n        <TS.QuestionContent>\n          {isFieldActive && (\n            <Card\n              isVisible={isFieldActive}\n              title={fieldDefinition.questionText}\n              body={fieldDefinition.hint}\n              onClickClose={handleCloseClick}\n            />\n          )}\n          <FormControl>\n            <Label>{label}</Label>\n            <CurrencyInput\n              autoFocus={false}\n              id=\"\"\n              fullWidth={true}\n              name=\"\"\n              maxDigits={MAX_DIGITS}\n              placeholder={placeholder}\n              onChange={value =>\n                handleInputChange(value, applicantIndex, fieldName, inputIndex)\n              }\n              value={fieldValue || ''}\n              type=\"\"\n              onFocus={() => handleFocus(applicantIndex, fieldName, inputIndex)}\n              onBlur={() => handleBlur()}\n            />\n            {inputIndex > 0 &&\n              renderDeleteButton(applicantIndex, fieldDefinition, inputIndex)}\n          </FormControl>\n        </TS.QuestionContent>\n      </S.InputContainer>\n    );\n  }\n\n  function renderDeleteButton(applicantIndex, fieldDefinition, inputIndex) {\n    return (\n      <S.Remove\n        onClick={() =>\n          handleDeleteClick(applicantIndex, fieldDefinition, inputIndex)\n        }\n      >\n        <Remove />\n      </S.Remove>\n    );\n  }\n\n  function handleDeleteClick(applicantIndex, fieldDefinition, inputIndex) {\n    const { fieldName } = fieldDefinition;\n    let newState = clone(formState);\n\n    const valuesArray = newState[applicantIndex][fieldName];\n\n    valuesArray.splice(inputIndex, 1);\n    setFormState(newState);\n  }\n\n  function renderAddMoreButton(applicantIndex, fieldDefinition) {\n    const { fieldName, maxValues } = fieldDefinition;\n    let newState = clone(formState);\n\n    const valuesArray = newState[applicantIndex][fieldName];\n\n    const isVisible = valuesArray[0] !== '' && valuesArray.length < maxValues;\n    const isOpaque = activeFieldName === '' || activeFieldName === fieldName;\n\n    return (\n      <S.AddMoreButtonContainer hidden={!isVisible} isOpaque={isOpaque}>\n        <Button\n          label=\"Add more\"\n          buttonStyle=\"text\"\n          icon={<Add />}\n          onClick={() => handleAddMoreClick(applicantIndex, fieldDefinition)}\n        />\n      </S.AddMoreButtonContainer>\n    );\n  }\n\n  function handleAddMoreClick(applicantIndex, fieldDefinition) {\n    const { fieldName, maxValues } = fieldDefinition;\n    let newState = clone(formState);\n\n    const valuesArray = newState[applicantIndex][fieldName];\n\n    valuesArray.length < maxValues && valuesArray.push('');\n    setFormState(newState);\n  }\n\n  const isMainQuestionVisible = activeFieldName === '';\n\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <S.MainQuestionContainer isVisible={isMainQuestionVisible}>\n          <MainQuestion\n            questionText=\"Will you have any monthly repayments after you drawdown your mortgage?\"\n            hint=\"\"\n          />\n        </S.MainQuestionContainer>\n      </TS.QuestionHeader>\n\n      <TS.QuestionContent>\n        {isJoint && <ApplicantLabel applicantNumber={1} />}\n        <br />\n        {outgoingsFields.map(inputConfig => renderField(inputConfig, 0))}\n      </TS.QuestionContent>\n\n      {isJoint && (\n        <TS.QuestionContent>\n          <br />\n          <br />\n          <br />\n          <ApplicantLabel applicantNumber={2} />\n          {outgoingsFields.map(inputConfig => renderField(inputConfig, 1))}\n        </TS.QuestionContent>\n      )}\n\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton onClick={handleProceedClick} isDisabled={false} />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nOutgoingsStep.propTypes = {\n  onClickContinue: PropTypes.func.isRequired,\n  currentStoreValue: PropTypes.any,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\nexport default OutgoingsStep;\n","export const POST_CALCULATION_STARTED = 'results/postCalculationStarted';\nexport const POST_CALCULATION_SUCCESS = 'results/postCalculationSuccess';\nexport const POST_CALCULATION_FAILED = 'results/postCalculationFailed';\nexport const POST_SAVE_STARTED = 'results/postSaveStarted';\nexport const POST_SAVE_SUCCESS = 'results/postSaveSuccess';\nexport const POST_SAVE_FAILED = 'results/postSaveFailed';\nexport const SET_SELECTED_TERM_INDEX = 'results/setSelectedTermIndex';\nexport const STORE_LOAN_PURPOSE = 'results/storeLoanPurpose';\nexport const STORE_LOAN_AMOUNT = 'results/storeLoanAmount ';\nexport const STORE_ERROR_CODE = 'results/storeErrorCode';\nexport const REMOVE_ERROR_CODE = 'results/removeErrorCode';\nexport const RESET_RESULTS = 'results/resetResults';\n","import {\n  POST_CALCULATION_STARTED,\n  POST_CALCULATION_SUCCESS,\n  POST_CALCULATION_FAILED,\n  POST_SAVE_STARTED,\n  POST_SAVE_SUCCESS,\n  POST_SAVE_FAILED,\n  SET_SELECTED_TERM_INDEX,\n  STORE_LOAN_PURPOSE,\n  STORE_LOAN_AMOUNT,\n  REMOVE_ERROR_CODE,\n  RESET_RESULTS,\n} from './results.types';\n\nexport const postCalculationStarted = data => ({\n  type: POST_CALCULATION_STARTED,\n  data,\n});\n\nexport const postCalculationSuccess = data => ({\n  type: POST_CALCULATION_SUCCESS,\n  data,\n});\n\nexport const postCalculationFailed = data => ({\n  type: POST_CALCULATION_FAILED,\n  data,\n});\n\nexport const postSaveStarted = data => ({\n  type: POST_SAVE_STARTED,\n  data,\n});\n\nexport const postSaveSuccess = data => ({\n  type: POST_SAVE_SUCCESS,\n  data,\n});\n\nexport const postSaveFailed = data => ({\n  type: POST_SAVE_FAILED,\n  data,\n});\n\nexport const setSelectedTermIndex = data => ({\n  type: SET_SELECTED_TERM_INDEX,\n  data,\n});\n\nexport const storeLoanPurpose = data => ({\n  type: STORE_LOAN_PURPOSE,\n  data,\n});\n\nexport const storeLoanAmount = data => ({\n  type: STORE_LOAN_AMOUNT,\n  data,\n});\n\nexport const removeErrorCode = () => ({ type: REMOVE_ERROR_CODE });\n\nexport const resetResults = () => ({ type: RESET_RESULTS });\n","import { getMcxApiDomain } from '@aib/uikit-react/dist/utils/env';\n\nconst mockServerHost = 'http://localhost:3031';\n// const mockServerHost = 'https://rhmcxalvd3.mid.aib.pri';\nconst mcxApiHost = getMcxApiDomain(window.location.host);\n\nconst isWebpackDevServer = () => typeof DEV_ENV !== 'undefined';\n\nlet _fetchImplementation = fetch;\nlet _apiBaseUrl = isWebpackDevServer()\n  ? mockServerHost\n  : `https://${mcxApiHost}`;\n\n/* Using dependency injection, allow the host application to inject their own version of fetch.\nThis allows the host app full control over how the api requests are made.\nFor example, the AIB Mobile App team want to make the api calls themselves from the XCode/Android native code. */\nexport const setFetchImplementation = (fetchImplementation = fetch) => {\n  _fetchImplementation = fetchImplementation;\n};\n\n/* Using dependency injection, allow the host application to specify the REST endpoint url */\nexport const setApiBaseUrl = apiBaseUrl => (_apiBaseUrl = apiBaseUrl);\n\nexport const postCalculatorData = body =>\n  post('/credit/v1/mortgages/calculator', body);\n\nexport const postCalculatorState = body =>\n  post('/credit/v1/mortgages/calculator/states', body);\n\nfunction post(url = '', body = {}) {\n  // Default options are marked with *\n  return _fetchImplementation(_apiBaseUrl + url, {\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, cors, *same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json',\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrer: 'no-referrer', // no-referrer, *client\n    body: JSON.stringify(body), // body data type must match \"Content-Type\" header\n  }).then(response => response);\n}\n","import { getMcxApiDomain } from '@aib/uikit-react/dist/utils/env';\nimport {\n  selectRequestData,\n  selectStateData,\n} from '../questions/questions.selectors';\nimport {\n  postCalculationStarted,\n  postCalculationSuccess,\n  postCalculationFailed,\n  postSaveStarted,\n  postSaveSuccess,\n  postSaveFailed,\n  setSelectedTermIndex,\n} from './results.actions';\nimport { postCalculatorData, postCalculatorState } from '../../api/restApi';\n\nconst DATA_ERROR = 'DataError';\nexport const GENERIC_ERROR_CODE = '1';\nconst mcxApiHost = getMcxApiDomain(window.location.host);\n\nexport const postCalculatorDataThunk = () => {\n  return (dispatch, getState) => {\n    const requestData = selectRequestData(getState());\n    dispatch(postCalculationStarted());\n    postCalculatorData(requestData)\n      .then(parseResponse)\n      .then(raiseErrors)\n      .then(responseBody => {\n        dispatch(postCalculationSuccess(responseBody));\n        dispatch(setSelectedTermIndex());\n      })\n      .catch(error => {\n        if (!error.errorCode && error.name !== DATA_ERROR) {\n          dispatch(postCalculationFailed(GENERIC_ERROR_CODE));\n          return;\n        }\n        dispatch(postCalculationFailed(error.errorCode));\n      });\n  };\n};\n\nexport const postCalculatorStateThunk = () => {\n  return (dispatch, getState) => {\n    const requestData = selectStateData(getState());\n    dispatch(postSaveStarted());\n    postCalculatorState(requestData)\n      .then(parseResponse)\n      .then(raiseErrors)\n      .then(responseBody => {\n        dispatch(postSaveSuccess(responseBody));\n        dispatch(setSelectedTermIndex());\n\n        // TODO:\n        window.open(\n          `https://${mcxApiHost}/apply?mcxCalcId=${responseBody.mcxCalcId}`,\n          '_self'\n        );\n      })\n      .catch(error => {\n        console.error({ error });\n        dispatch(postSaveFailed(GENERIC_ERROR_CODE));\n      });\n  };\n};\n\nfunction parseResponse(response) {\n  return {\n    responseBody: response.json(),\n    responseStatus: response.status,\n  };\n}\n\nfunction raiseErrors(parsedResponse) {\n  const responseBody = parsedResponse.responseBody;\n  switch (parsedResponse.responseStatus) {\n    case 400:\n      throw new DataError(responseBody.code);\n    case 500:\n      throw new DataError(GENERIC_ERROR_CODE);\n    default:\n      break;\n  }\n  return responseBody;\n}\n\nfunction DataError(code) {\n  this.errorCode = code;\n  this.name = DATA_ERROR;\n}\n","import styled from 'styled-components';\nimport {\n  fontFamily,\n  color,\n  fontSize,\n} from '@aib/design-tokens/dist/design-tokens';\n\nexport const SummarySubHeading = styled.div`\n  font-family: ${fontFamily.bold};\n  font-size: ${fontSize.large};\n  line-height: 1.5625rem;\n  margin-bottom: 0.5rem;\n`;\n\nexport const SummaryBlock = styled.div`\n  margin-bottom: 2rem;\n  border-bottom: solid 1px ${color.grey03};\n`;\n","import styled, { css } from 'styled-components';\nimport {\n  fontFamily,\n  color,\n  fontSize,\n  lineHeight,\n} from '@aib/design-tokens/dist/design-tokens';\n\nexport const SummaryListItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 0;\n  border-bottom: solid 1px ${color.grey02};\n`;\n\nexport const Label = styled.div`\n  font-size: ${fontSize.small};\n  color: ${color.grey06};\n  margin-right: 0.5rem;\n\n  ${props =>\n    props.reduceWidth &&\n    css`\n      width: 30%;\n      min-width: 30%;\n    `}\n`;\n\nexport const ValuesContainer = styled.div`\n  font-size: ${fontSize.large};\n  font-family: ${fontFamily.bold};\n  color: ${color.grey06};\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  text-align: right;\n`;\n\nexport const Value = styled.div`\n  line-height: ${lineHeight.xxLarge};\n  display: inline;\n  margin: 2px 0 0 0.5rem;\n`;\n\nexport const Values = styled.div`\n  margin-left: 0.5rem;\n`;\n\nexport const ValuesWithApplicantLabel = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ApplicantLabel from '@aib/uikit-react/dist/Form/ApplicantLabel/ApplicantLabel';\nimport * as S from './SummaryListItem.styled';\n\nfunction SummaryListItem({ stepName, stepValues }) {\n  // Show the applicant labels if there are two sets of values\n  // (which must have come from a joint application):\n  const showApplicantLabels = stepValues.length === 2 && !!stepValues[1];\n\n  const renderValue = (value, index, arr) => {\n    return (\n      <S.Value key={`${value + index}`}>\n        {value}\n        {arr && arr.length - 1 !== index && ', '}\n      </S.Value>\n    );\n  };\n\n  const renderValues = (values, index) => {\n    return Array.isArray(values) ? (\n      <S.Values key={`${values + index}`}>\n        {values.map((val, i, arr) => renderValue(val, i, arr))}\n      </S.Values>\n    ) : (\n      renderValue(values, index)\n    );\n  };\n\n  return (\n    <S.SummaryListItem>\n      <S.Label reduceWidth={showApplicantLabels}>{stepName}</S.Label>\n      <S.ValuesContainer>\n        {showApplicantLabels &&\n          stepValues.map((values, index) => (\n            <S.ValuesWithApplicantLabel key={`${values + index}`}>\n              <ApplicantLabel compact applicantNumber={index + 1} />\n              {renderValues(values)}\n            </S.ValuesWithApplicantLabel>\n          ))}\n        {!showApplicantLabels &&\n          stepValues.map(values => {\n            return renderValues(values);\n          })}\n      </S.ValuesContainer>\n    </S.SummaryListItem>\n  );\n}\n\nSummaryListItem.propTypes = {\n  stepName: PropTypes.string.isRequired,\n  stepValues: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n  ).isRequired,\n};\n\nexport default SummaryListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as TS from '../../templates/Template.styled';\nimport * as S from './SummaryStep.styled';\nimport SummaryListItem from '../../BuildingBlocks/SummaryListItem/SummaryListItem';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport mapStepToReadableName from './mapStepToReadableName.json';\n\nfunction SummaryStep({\n  aboutYouData,\n  incomeData,\n  outgoingsData,\n  onClickProceed,\n}) {\n  return (\n    <TS.QuestionContainer>\n      <TS.QuestionHeader>\n        <MainQuestion questionText=\"Here is the information you told us, please review before the calculation\" />\n      </TS.QuestionHeader>\n      <TS.QuestionContent>\n        <S.SummaryBlock>\n          <S.SummarySubHeading>About you</S.SummarySubHeading>\n          {Object.keys(aboutYouData).map((step, index) => (\n            <SummaryListItem\n              key={index}\n              stepValues={[\n                aboutYouData[step].applicantOne,\n                aboutYouData[step].applicantTwo,\n              ]}\n              stepName={mapStepToReadableName[step]}\n            />\n          ))}\n        </S.SummaryBlock>\n        <S.SummaryBlock>\n          <S.SummarySubHeading>Income</S.SummarySubHeading>\n          {Object.keys(incomeData).map((step, index) => (\n            <SummaryListItem\n              key={index}\n              stepValues={[\n                incomeData[step].applicantOne,\n                incomeData[step].applicantTwo,\n              ]}\n              stepName={mapStepToReadableName[step]}\n            />\n          ))}\n        </S.SummaryBlock>\n        <S.SummaryBlock>\n          <S.SummarySubHeading>Outgoings</S.SummarySubHeading>\n          {Object.keys(outgoingsData).map((step, index) => (\n            <SummaryListItem\n              key={index}\n              stepValues={[\n                outgoingsData[step].applicantOne,\n                outgoingsData[step].applicantTwo,\n              ]}\n              stepName={mapStepToReadableName[step]}\n            />\n          ))}\n        </S.SummaryBlock>\n      </TS.QuestionContent>\n      <TS.QuestionFooter>\n        <TS.QuestionFooterButton>\n          <ProceedButton\n            onClick={onClickProceed}\n            buttonLabel=\"Confirm and calculate\"\n          />\n        </TS.QuestionFooterButton>\n      </TS.QuestionFooter>\n    </TS.QuestionContainer>\n  );\n}\n\nSummaryStep.propTypes = {\n  aboutYouData: PropTypes.object.isRequired,\n  incomeData: PropTypes.object.isRequired,\n  outgoingsData: PropTypes.object.isRequired,\n  onClickProceed: PropTypes.func.isRequired,\n};\n\nexport default SummaryStep;\n","import {\n  SAVE_ANSWER,\n  GOTO_STEP_BY_NUMBER,\n  GOTO_NEXT_STEP,\n  GOTO_PREVIOUS_STEP,\n  RESTART_CALCULATOR,\n} from './questions.types';\n\nexport const saveAnswer = (stepName, applicantOne = '', applicantTwo = '') => ({\n  type: SAVE_ANSWER,\n  data: { stepName, applicantOne, applicantTwo },\n});\n\nexport const gotoStepByNumber = stepNumber => ({\n  type: GOTO_STEP_BY_NUMBER,\n  stepNumber,\n});\n\nexport const gotoNextStep = () => ({ type: GOTO_NEXT_STEP });\n\nexport const gotoPreviousStep = () => ({ type: GOTO_PREVIOUS_STEP });\n\nexport const restartCalculator = () => ({ type: RESTART_CALCULATOR });\n","import { connect } from 'react-redux';\nimport {\n  selectAboutYouData,\n  selectIncomeData,\n  selectOutgoingsData,\n} from '../../../store/questions/questions.selectors';\nimport { resetResults } from '../../../store/results/results.actions';\nimport { postCalculatorDataThunk } from '../../../store/results/results.thunks';\nimport SummaryStep from './SummaryStep';\nimport { gotoNextStep } from '../../../store/questions/questions.actions';\n\nconst mapStateToProps = state => ({\n  aboutYouData: selectAboutYouData(state),\n  incomeData: selectIncomeData(state),\n  outgoingsData: selectOutgoingsData(state),\n  state,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClickProceed: () => {\n    dispatch(resetResults());\n    dispatch(postCalculatorDataThunk());\n    dispatch(gotoNextStep());\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SummaryStep);\n","import { path } from 'ramda';\n\nexport const selectTermData = (state = {}) => {\n  const selectedTermIndex = selectSelectedTermIndex(state);\n  return path(['results', 'loanDetailsTermwise', selectedTermIndex], state);\n};\n\nexport const selectSelectedTermIndex = (state = {}) =>\n  path(['results', 'selectedTermIndex'], state);\n\nexport const selectDefaultTermIndex = (state = {}) => {\n  const loanDetails = path(['loanDetailsTermwise'], state);\n  // The default term when entering the page should be the longest term:\n  return loanDetails.length - 1;\n};\n\nexport const selectRangeData = (state = {}) => {\n  let rangeData = [];\n  const loanDetails = path(['results', 'loanDetailsTermwise'], state);\n  for (var key in loanDetails) {\n    rangeData.push(loanDetails[key].termInYears);\n  }\n  return rangeData;\n};\n\nexport const selectMaxLoanAmount = (state = {}) =>\n  path(['maxLoanAmount'], state);\n\nexport const selectLoanAmount = (state = {}) =>\n  path(['results', 'purchaseDetails', 'loanAmount'], state);\n\nexport const selectLoanPurpose = (state = {}) =>\n  path(['results', 'purchaseDetails', 'loanPurpose'], state);\n\nexport const selectMaxTerm = (state = {}) => {\n  // TODO: why does 'state' refer to the top level of the store\n  // when in a connected component but refers to a limb when in a reducer?\n  const results = state.results || state;\n  return path(['maxTerm'], results);\n};\nexport const selectErrorCode = (state = {}) =>\n  path(['results', 'errorCode'], state);\n\nexport const selectIsPostCalculationInProgress = (state = {}) =>\n  path(['results', 'isPostCalculationInProgress'], state);\n\nexport const selectIsPostSaveInProgress = (state = {}) =>\n  path(['results', 'isPostSaveInProgress'], state);\n","const outsidePolicyErrorCodes = [\n  '400-5100-9376',\n  '400-5100-9380',\n  '400-5100-9377',\n];\n\nexport default outsidePolicyErrorCodes;\n","import styled, { keyframes } from 'styled-components';\nimport Input from '@aib/uikit-react/dist/Form/Input/Input';\nimport {\n  fontFamily,\n  color,\n  fontSize,\n  lineHeight,\n} from '@aib/design-tokens/dist/design-tokens';\n\n// ? if this keyframes is ever required elsewhere, then it should be moved to a common place\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\n\nexport const LoanAmountContainer = styled.div`\n  text-align: center;\n  margin: 0 0 1rem 0;\n  padding-bottom: 2rem;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25);\n`;\n\n// Override the UI Kit's Input component styles\nexport const LoanAmount = styled(Input)`\n  /* Font gets smaller when the euro formatted number is longer than 8 characters: ie. 'XXX,XXX' */\n  font-size: ${props =>\n    props.numberOfCharacters > 8 ? fontSize.xxxLarge : fontSize.xxxxLarge};\n  color: ${props => (props.error ? color.red100 : color.darkGreen100)};\n  border-bottom: 4px solid\n    ${props => (props.error ? color.red100 : color.darkGreen100)};\n  display: inline-block;\n  width: ${props => props.numberOfCharacters + 'ch'};\n  padding-left: 0px;\n  padding-right: 0px;\n  text-align: center;\n\n  &:focus-within {\n    border-bottom: 4px solid\n      ${props => (props.error ? color.red100 : color.darkGreen100)};\n  }\n`;\n\nconst LoanAmountMessage = styled.div`\n  font-size: ${fontSize.small};\n  margin: 0.5rem 1rem 0;\n`;\n\nexport const LoanAmountTip = styled(LoanAmountMessage)`\n  font-style: italic;\n  color: ${color.grey05};\n`;\n\nexport const LoanAmountError = styled(LoanAmountMessage)`\n  font-family: ${fontFamily.bold};\n  color: ${color.red100};\n`;\n\nexport const MaxLoanAmount = styled.div`\n  font-size: ${fontSize.xxLarge};\n  line-height: ${lineHeight.xxLarge};\n  color: ${color.grey06};\n  text-align: center;\n  margin: 0 0 1rem;\n  animation: 0.4s ${fadeIn} ease-in;\n`;\n\nexport const MaxTerm = styled.div`\n  font-size: ${fontSize.small};\n  line-height: ${lineHeight.small};\n  margin-top: 0.25rem;\n`;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { euroValueToNumber } from '../../../util/euroFormatter';\nimport { formatAsCurrency } from '@aib/uikit-react/dist/Form/CurrencyInput/currencyFormatter';\nimport FormControl from '@aib/uikit-react/dist/Form/FormControl/FormControl';\nimport apiErrorCodes from '../../../api/apiErrorCodes.json';\nimport * as S from './LoanAmount.styled';\n\nconst MAX_DIGITS = 8;\n\nfunction LoanAmount({\n  amount,\n  maxLoanAmount,\n  maxTerm,\n  onBlurLoanAmount,\n  errorCode,\n  onShowMaxLoanAmount,\n}) {\n  const maxLoanAmountInEuro = formatAsCurrency(maxLoanAmount, '');\n  const [loanAmount, setLoanAmount] = useState(\n    formatAsCurrency(amount, '') || ''\n  );\n\n  useEffect(() => {\n    handleInputChange(amount);\n  }, [amount]);\n\n  const handleInputChange = val => {\n    setLoanAmount(formatAsCurrency(val, '', MAX_DIGITS));\n  };\n\n  const handleInputBlur = () => {\n    hasLoanAmountChanged() &&\n      !isGreaterThanMax() &&\n      onBlurLoanAmount(loanAmount);\n  };\n\n  const isMaxLoanAmount = () => loanAmount !== maxLoanAmountInEuro;\n  const isGreaterThanMax = () => euroValueToNumber(loanAmount) > maxLoanAmount;\n  const numberOfCharacters = () => (!loanAmount.length ? 1 : loanAmount.length);\n  const hasLoanAmountChanged = () => amount !== euroValueToNumber(loanAmount);\n\n  onShowMaxLoanAmount(isMaxLoanAmount());\n\n  function getInfoOrErrorComponent() {\n    if (!errorCode && !isGreaterThanMax()) {\n      return (\n        <S.LoanAmountTip>edit here if you want a lower amount</S.LoanAmountTip>\n      );\n    } else if (isGreaterThanMax()) {\n      return (\n        <S.LoanAmountError>\n          Maximum amount we can lend you is {maxLoanAmountInEuro}. Please try\n          again.\n        </S.LoanAmountError>\n      );\n    } else if (errorCode) {\n      return <S.LoanAmountError>{apiErrorCodes[errorCode]}</S.LoanAmountError>;\n    }\n  }\n\n  return (\n    <S.LoanAmountContainer>\n      {isMaxLoanAmount() && (\n        <S.MaxLoanAmount>\n          {maxLoanAmountInEuro} <S.MaxTerm>over {maxTerm} years</S.MaxTerm>\n        </S.MaxLoanAmount>\n      )}\n      <FormControl error={false}>\n        <S.LoanAmount\n          onChange={evt => handleInputChange(evt.target.value)}\n          value={loanAmount}\n          onBlur={() => handleInputBlur()}\n          numberOfCharacters={numberOfCharacters()}\n          error={!!errorCode || isGreaterThanMax()}\n        />\n      </FormControl>\n      {getInfoOrErrorComponent()}\n    </S.LoanAmountContainer>\n  );\n}\n\nLoanAmount.propTypes = {\n  amount: PropTypes.number.isRequired,\n  maxLoanAmount: PropTypes.number.isRequired,\n  maxTerm: PropTypes.number.isRequired,\n  onBlurLoanAmount: PropTypes.func.isRequired,\n  errorCode: PropTypes.string.isRequired,\n  onShowMaxLoanAmount: PropTypes.func.isRequired,\n};\n\nexport default LoanAmount;\n","import { connect } from 'react-redux';\nimport { path } from 'ramda';\nimport {\n  storeLoanAmount,\n  removeErrorCode,\n} from '../../../store/results/results.actions';\nimport {\n  selectMaxLoanAmount,\n  selectErrorCode,\n  selectMaxTerm,\n  selectLoanAmount,\n} from '../../../store/results/results.selectors';\nimport { euroValueToNumber } from '../../../util/euroFormatter';\nimport { postCalculatorDataThunk } from '../../../store/results/results.thunks';\nimport LoanAmount from './LoanAmount';\n\nconst mapStateToProps = (state, ownProps) => {\n  // ? If there has been an error use the most recent loan amount that was typed\n  // ? in and display the error underneath in red. If there hasn't been an error,\n  // ? then use the loan amount received from the termData.\n  const errorCode = selectErrorCode(state);\n  let amount = ownProps.amount;\n  if (errorCode) {\n    const amountInEuro = selectLoanAmount(state);\n    amount = euroValueToNumber(amountInEuro);\n  }\n\n  return {\n    maxLoanAmount: selectMaxLoanAmount(path(['results'], state)),\n    maxTerm: selectMaxTerm(path(['results'], state)),\n    errorCode,\n    amount,\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onBlurLoanAmount: loanAmount => {\n    dispatch(removeErrorCode());\n    dispatch(storeLoanAmount(loanAmount));\n    dispatch(postCalculatorDataThunk());\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoanAmount);\n","import styled from 'styled-components';\nimport Link from '@aib/uikit-react/dist/Navigation/Link/Link';\nimport { color, fontSize } from '@aib/design-tokens/dist/design-tokens';\n\nexport const ContactMethods = styled.div`\n  display: flex;\n  width: 100%;\n  height: 140px;\n  border-top: 1px solid ${color.grey03};\n`;\n\n// Style the UI Kit Link component:\nexport const ContactMethod = styled(Link)`\n  display: flex;\n  width: 50%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    opacity: 0.7;\n    text-decoration: underline;\n    text-decoration-color: ${color.corePurple100};\n  }\n`;\n\nexport const ContactLabel = styled.div`\n  font-size: ${fontSize.xSmall};\n  color: ${color.corePurple100};\n  margin: 1rem 1rem 0 1rem;\n  max-width: 80px;\n  text-align: center;\n`;\n\nexport const IconContainer = styled.div`\n  background: linear-gradient(\n    57.23deg,\n    ${color.darkPurple100} 9.64%,\n    ${color.magenta100} 88.16%\n  );\n  border-radius: 50%;\n  height: 40px;\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport IconPhone from '@aib/uikit-react/dist/Icons/IconPhone';\nimport IconCallback from '@aib/uikit-react/dist/Icons/IconCallback';\nimport * as S from './ContactMethods.styled';\n\nconst AIB_PHONE_NUMBER = '1890 24 24 25';\n\nfunction ContactMethods() {\n  const contactMethods = [\n    {\n      label: 'Schedule a callback',\n      icon: <IconCallback color=\"white\" fillColor=\"white\" />,\n      href: 'https://aib.ie/personal-forms/mortgageform',\n      openInNewTab: true,\n    },\n    {\n      label: (\n        <React.Fragment>\n          <div>Call us</div>\n          <div>{AIB_PHONE_NUMBER}</div>\n        </React.Fragment>\n      ),\n      icon: <IconPhone color=\"white\" fillColor=\"white\" />,\n      href: `tel:${AIB_PHONE_NUMBER}`,\n      openInNewTab: false,\n    },\n  ];\n\n  return (\n    <S.ContactMethods>\n      {contactMethods.map((contactMethod, i) => (\n        <S.ContactMethod\n          key={i}\n          textUnderline={false}\n          href={contactMethod.href}\n          openInNewTab={contactMethod.openInNewTab}\n        >\n          <S.IconContainer>{contactMethod.icon}</S.IconContainer>\n          <S.ContactLabel>{contactMethod.label}</S.ContactLabel>\n        </S.ContactMethod>\n      ))}\n    </S.ContactMethods>\n  );\n}\n\nexport default ContactMethods;\n","import styled from 'styled-components';\nimport { color, fontSize } from '@aib/design-tokens/dist/design-tokens';\n\nexport const FinancialItemContainer = styled.div`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  margin: 2rem 1rem;\n`;\n\nexport const FinancialItemLabel = styled.span`\n  font-size: ${fontSize.medium};\n  color: ${color.grey05};\n`;\n\nexport const FinancialItemAmount = styled.span`\n  font-size: ${fontSize.xxLarge};\n  color: ${color.grey07};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { formatAsCurrency } from '@aib/uikit-react/dist/Form/CurrencyInput/currencyFormatter';\nimport * as S from './FinancialDetails.styled';\n\nfunction FinancialDetails({ purchasePrice, deposit, repaymentAmount }) {\n  const financialDetails = [\n    { label: 'Purchase Price', amount: purchasePrice },\n    { label: \"Deposit you'll need\", amount: deposit },\n    { label: 'Monthly repayment', amount: repaymentAmount },\n  ];\n\n  return financialDetails.map((financialDetail, i) => (\n    <S.FinancialItemContainer key={i}>\n      <S.FinancialItemLabel>{financialDetail.label}:</S.FinancialItemLabel>\n      <S.FinancialItemAmount>\n        {formatAsCurrency(String(financialDetail.amount), '')}\n      </S.FinancialItemAmount>\n    </S.FinancialItemContainer>\n  ));\n}\n\nFinancialDetails.propTypes = {\n  purchasePrice: PropTypes.number.isRequired,\n  deposit: PropTypes.number.isRequired,\n  repaymentAmount: PropTypes.number.isRequired,\n};\n\nexport default FinancialDetails;\n","import styled from 'styled-components';\nimport { color, fontSize } from '@aib/design-tokens/dist/design-tokens';\n\nexport const OutsidePolicy = styled.div`\n  margin-bottom: 1.5rem;\n`;\n\nexport const OutsidePolicyParagraph = styled.p`\n  font-size: ${fontSize.large};\n  color: ${color.grey07};\n  text-align: center;\n  margin: 2rem;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport * as TS from '../../templates/Template.styled';\nimport * as S from './OutsidePolicy.styled';\n\nfunction OutsidePolicy({ onProceedClick }) {\n  return (\n    <S.OutsidePolicy>\n      <S.OutsidePolicyParagraph>\n        We&apos;re sorry, but, based on the information provided, you have\n        fallen outside of AIB&apos;s mortgage lending policy.\n      </S.OutsidePolicyParagraph>\n      <S.OutsidePolicyParagraph>\n        To discuss your application further, please schedule a call back or book\n        an appointment in the closest branch.\n      </S.OutsidePolicyParagraph>\n      <TS.QuestionFooterButton>\n        <ProceedButton\n          onClick={onProceedClick}\n          buttonLabel=\"Restart the calculation\"\n        />\n      </TS.QuestionFooterButton>\n    </S.OutsidePolicy>\n  );\n}\n\nOutsidePolicy.propTypes = {\n  onProceedClick: PropTypes.func.isRequired,\n};\n\nexport default OutsidePolicy;\n","import { connect } from 'react-redux';\nimport { restartCalculator } from '../../../store/questions/questions.actions';\nimport { resetResults } from '../../../store/results/results.actions';\nimport OutsidePolicy from './OutsidePolicy';\n\nconst mapStateToProps = (state, ownProps) => ({});\n\nconst mapDispatchToProps = dispatch => ({\n  onProceedClick: () => {\n    dispatch(restartCalculator());\n    dispatch(resetResults());\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OutsidePolicy);\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst ResultScreenSkeleton = () => (\n  <ContentLoader\n    height={500}\n    width={400}\n    speed={2}\n    style={{ width: '95vw', height: '95vh' }}\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n  >\n    <rect x=\"50\" y=\"30\" rx=\"6\" width=\"300\" height=\"70\" />\n    <rect x=\"15\" y=\"130\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"215\" y=\"130\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"0\" y=\"154\" rx=\"6\" width=\"400\" height=\"2\" />\n    <rect x=\"15\" y=\"180\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"215\" y=\"180\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"15\" y=\"230\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"215\" y=\"230\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"15\" y=\"280\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"215\" y=\"280\" rx=\"6\" width=\"170\" height=\"20\" />\n    <rect x=\"15\" y=\"340\" rx=\"6\" width=\"370\" height=\"70\" />\n  </ContentLoader>\n);\n\nexport default ResultScreenSkeleton;\n","import styled from 'styled-components';\nimport * as TS from '../../templates/Template.styled';\n// TODO swap for design tokens\nimport { color, fontSize } from '@aib/design-tokens/dist/design-tokens';\n\n// Layout overrides:\nexport const ResultsContainer = styled(TS.QuestionContainer)`\n  padding: 0;\n`;\n\nexport const ResultsHeader = styled(TS.QuestionHeader)`\n  margin: 2rem 2rem 0;\n`;\n\n// Range\nexport const StandoutFrame = styled.div`\n  box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.25);\n  padding: 1rem;\n  margin: 2rem 0;\n`;\n\n// Tabs\nexport const TabsContainer = styled.div`\n  width: max-content;\n  margin: auto;\n`;\n\nexport const MainText = styled.div`\n  font-size: ${fontSize.large};\n  color: ${color.grey07};\n  padding: 0.6rem 1rem 0.6rem;\n`;\n\nexport const Paragraph = styled.div`\n  font-size: ${fontSize.medium};\n  color: ${color.grey07};\n  padding: 0.6rem 1rem 0.6rem;\n`;\n\nexport const InfoSection = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const InfoLink = styled.div`\n  margin-left: 8px;\n`;\nexport const InfoIcon = styled.div`\n  margin-right: 8px;\n`;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport * as TS from '../../templates/Template.styled';\nimport MainQuestion from '../../Form/MainQuestion/MainQuestion';\nimport ProceedButton from '../../Form/ProceedButton/ProceedButton';\nimport LoanAmountConnected from '../../BuildingBlocks/LoanAmount/LoanAmountConnected';\nimport ContactMethods from '../../BuildingBlocks/ContactMethods/ContactMethods';\nimport FinancialDetails from '../../BuildingBlocks/FinancialDetails/FinancialDetails';\nimport OutsidePolicyConnected from '../../BuildingBlocks/OutsidePolicy/OutsidePolicyConnected';\nimport Range from '@aib/uikit-react/dist/Form/Range/Range';\nimport Tabs from '@aib/uikit-react/dist/Navigation/Tabs/Tabs';\nimport Link from '@aib/uikit-react/dist/Navigation/Link/Link';\nimport IconInfo from '@aib/uikit-react/dist/Icons/IconInfo';\nimport AlertPopup from '@aib/uikit-react/dist/Content/AlertPopup/AlertPopup';\nimport ResultScreenSkeleton from './ResultsStepSkeleton';\nimport { color } from '@aib/design-tokens/dist/design-tokens';\nimport * as S from './ResultsStep.styled';\n\nconst tabTitles = {\n  F: 'family home',\n  O: '1 bed apartment',\n};\n\nfunction ResultsStep({\n  termData,\n  selectedTermIndex = 0,\n  rangeData,\n  onChangeRange,\n  onChangeTab,\n  isOutsidePolicy,\n  isCriticalError,\n  isPostCalculationInProgress,\n  isPostSaveInProgress,\n  selectedLoanPurpose,\n  onClickContinue,\n  onClickCriticalErrorAlert,\n}) {\n  const [hasSmallerHeaderText, setHasSmallerHeaderText] = useState(false);\n\n  const handleTabChange = tabIndex => {\n    const loanPurposeId = Object.keys(tabTitles)[tabIndex];\n    onChangeTab(loanPurposeId);\n  };\n\n  const handleProceedClick = () => {\n    onClickContinue();\n  };\n\n  const onShowMaxLoanAmount = isMaxLoanAmountShown => {\n    setHasSmallerHeaderText(isMaxLoanAmountShown);\n  };\n\n  const handleTermChange = value => {\n    onChangeRange(parseInt(value));\n  };\n\n  const handleCriticalErrorAlertClick = () => {\n    onClickCriticalErrorAlert();\n  };\n\n  if (isPostCalculationInProgress) {\n    return <ResultScreenSkeleton />;\n  }\n\n  // TODO: no design yet for what to show while saving the user data to the database\n  if (isPostSaveInProgress) {\n    return <ResultScreenSkeleton />;\n  }\n\n  return (\n    <S.ResultsContainer>\n      {!isOutsidePolicy && (\n        <React.Fragment>\n          <AlertPopup\n            title=\"Sorry...\"\n            isOpen={isCriticalError}\n            onConfirm={handleCriticalErrorAlertClick}\n            confirmLabel=\"Close\"\n          >\n            We&apos;re having trouble with our site. Please come back later.\n          </AlertPopup>\n          <S.ResultsHeader>\n            <MainQuestion\n              hasSmallerText={hasSmallerHeaderText}\n              centered\n              questionText=\"Based on the information you've given us, the maximum amount we can lend you is:\"\n            />\n          </S.ResultsHeader>\n          <TS.QuestionContent>\n            <LoanAmountConnected\n              amount={termData.approvedLoanAmount}\n              onShowMaxLoanAmount={onShowMaxLoanAmount}\n            />\n            <S.TabsContainer>\n              <Tabs\n                tabTitles={Object.values(tabTitles)}\n                onTabChange={index => handleTabChange(index)}\n                defaultSelectedTab={Object.keys(tabTitles).indexOf(\n                  selectedLoanPurpose\n                )}\n              />\n            </S.TabsContainer>\n            <FinancialDetails\n              purchasePrice={termData.approvedPurchasePrice}\n              deposit={termData.depositAmount}\n              repaymentAmount={termData.repaymentAmount}\n            />\n            <S.StandoutFrame>\n              <S.MainText>Adjust your mortgage term:</S.MainText>\n              <Range\n                step=\"1\"\n                min={String(rangeData.indexOf(rangeData[0]))}\n                max={String(rangeData.indexOf(rangeData[rangeData.length - 1]))}\n                initialValue={String(selectedTermIndex)}\n                onChange={handleTermChange}\n                formatLabel={value =>\n                  value !== undefined && rangeData[value] + ' years'\n                }\n                testId=\"termRange\"\n              />\n            </S.StandoutFrame>\n\n            <S.Paragraph>\n              These monthly repayments are based on a Loan to Value (LTV) of\n              <strong> {termData.loanToValue}%</strong>, an interest rate of{' '}\n              <strong>{termData.interestRate}% </strong>\n              and Annual Percentage Rate (APR) of{' '}\n              <strong>{termData.annualisedPercentageRate}% </strong> over the\n              term shown.\n            </S.Paragraph>\n\n            <S.Paragraph>\n              We used an interest rate that is variable. We also have low fixed\n              rates that you can choose from when you apply.\n            </S.Paragraph>\n\n            <S.StandoutFrame>\n              <S.InfoSection>\n                <S.InfoIcon>\n                  <IconInfo color={color.darkGreen100} />\n                </S.InfoIcon>\n                <S.InfoLink>\n                  <Link\n                    openInNewTab\n                    href={\n                      'https://aib.ie/our-products/mortgages/mortgage-interest-rate-options'\n                    }\n                    size=\"large\"\n                  >\n                    More info about our fixed and variable rates\n                  </Link>\n                </S.InfoLink>\n              </S.InfoSection>\n            </S.StandoutFrame>\n            <S.Paragraph>\n              To generate your Approval in Principle (AIP) document over this\n              amount and term, we need to gather more information about you.\n            </S.Paragraph>\n          </TS.QuestionContent>\n          <TS.QuestionFooter>\n            <TS.QuestionFooterButton>\n              <ProceedButton\n                onClick={handleProceedClick}\n                buttonLabel=\"I want my Approval in Principle\"\n              />\n            </TS.QuestionFooterButton>\n          </TS.QuestionFooter>\n          <S.Paragraph>\n            Approval in Principle is only a guide amount based on limited\n            information. It doesn&apos;t consider all of your financial\n            circumstances. It&apos;s not an offer of a mortgage loan but you can\n            use it to go house hunting.\n          </S.Paragraph>\n\n          <S.Paragraph>\n            <Link\n              openInNewTab\n              href={\n                ' https://aib.ie/our-products/mortgages/Home-Mortgages-Regulatory-Information'\n              }\n              size=\"medium\"\n            >\n              Home Mortgages Regulatory Information\n            </Link>\n          </S.Paragraph>\n          <S.Paragraph />\n        </React.Fragment>\n      )}\n      {!!isOutsidePolicy && <OutsidePolicyConnected />}\n      <ContactMethods />\n    </S.ResultsContainer>\n  );\n}\n\nResultsStep.propTypes = {\n  termData: PropTypes.object.isRequired,\n  selectedTermIndex: PropTypes.number,\n  rangeData: PropTypes.array.isRequired,\n  onChangeRange: PropTypes.func.isRequired,\n  onChangeTab: PropTypes.func.isRequired,\n  isOutsidePolicy: PropTypes.bool.isRequired,\n  isCriticalError: PropTypes.bool.isRequired,\n  isPostCalculationInProgress: PropTypes.bool.isRequired,\n  isPostSaveInProgress: PropTypes.bool.isRequired,\n  selectedLoanPurpose: PropTypes.string.isRequired,\n  onClickContinue: PropTypes.func.isRequired,\n  onClickCriticalErrorAlert: PropTypes.func.isRequired,\n};\n\nexport default ResultsStep;\n","import IntroStep from './IntroStep/IntroStep';\nimport NumberOfApplicantsStep from './NumberOfApplicantsStep/NumberOfApplicantsStep';\nimport FirstTimeBuyerStep from './FirstTimeBuyerStep/FirstTimeBuyerStep';\nimport DateOfBirthStep from './DateOfBirthStep/DateOfBirthStep';\nimport FinancialDependantsStep from './FinancialDependantsStep/FinancialDependantsStep';\nimport MaritalStatusStep from './MaritalStatusStep/MaritalStatusStep';\nimport IncomeStep from './IncomeStep/IncomeStep';\nimport OutgoingsStep from './OutgoingsStep/OutgoingsStep';\nimport SummaryStepConnected from './SummaryStep/SummaryStepConnected';\nimport ResultsStepConnected from './ResultsStep/ResultsStepConnected';\n\nconst Steps = {\n  IntroStep,\n  NumberOfApplicantsStep,\n  FirstTimeBuyerStep,\n  DateOfBirthStep,\n  MaritalStatusStep,\n  FinancialDependantsStep,\n  IncomeStep,\n  OutgoingsStep,\n  SummaryStepConnected,\n  ResultsStepConnected,\n};\nexport const stepsArray = Object.keys(Steps);\n\nexport default Steps;\n","import { connect } from 'react-redux';\nimport {\n  selectTermData,\n  selectSelectedTermIndex,\n  selectRangeData,\n  selectErrorCode,\n  selectIsPostCalculationInProgress,\n  selectIsPostSaveInProgress,\n  selectLoanPurpose,\n} from '../../../store/results/results.selectors';\nimport {\n  setSelectedTermIndex,\n  storeLoanPurpose,\n  removeErrorCode,\n} from '../../../store/results/results.actions';\nimport {\n  postCalculatorDataThunk,\n  postCalculatorStateThunk,\n  GENERIC_ERROR_CODE,\n} from '../../../store/results/results.thunks';\nimport outsidePolicyErrorCodes from '../../../api/outsidePolicyErrorCodes';\nimport ResultsStep from './ResultsStep';\n\nconst mapStateToProps = state => {\n  const errorCode = selectErrorCode(state);\n  const isOutsidePolicy = outsidePolicyErrorCodes.includes(errorCode);\n  const isCriticalError = GENERIC_ERROR_CODE === errorCode;\n\n  return {\n    termData: selectTermData(state),\n    selectedTermIndex: selectSelectedTermIndex(state),\n    rangeData: selectRangeData(state),\n    isOutsidePolicy,\n    isCriticalError,\n    isPostCalculationInProgress: selectIsPostCalculationInProgress(state),\n    isPostSaveInProgress: selectIsPostSaveInProgress(state),\n    selectedLoanPurpose: selectLoanPurpose(state),\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onChangeRange: value => {\n    dispatch(setSelectedTermIndex(value));\n  },\n  onChangeTab: loanPurposeId => {\n    dispatch(storeLoanPurpose(loanPurposeId));\n    dispatch(postCalculatorDataThunk());\n  },\n  onClickContinue: () => {\n    dispatch(postCalculatorStateThunk());\n  },\n  onClickCriticalErrorAlert: () => {\n    dispatch(removeErrorCode());\n  },\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ResultsStep);\n","import {\n  pathEq,\n  pick,\n  path,\n  clone,\n  lensProp,\n  set,\n  compose,\n  lensIndex,\n} from 'ramda';\nimport { stepsArray } from '../../ui/Steps/Steps.list';\nimport { formatAsCurrency } from '@aib/uikit-react/dist/Form/CurrencyInput/currencyFormatter';\nimport { euroValueToNumber } from '../../util/euroFormatter';\nimport requestSample from '../../api/request.sample.json';\nimport { selectTermData, selectMaxTerm } from '../results/results.selectors';\n\nexport const selectCurrentStep = state => {\n  const questions = state.questions || state;\n  return questions.currentStep;\n};\nexport const selectCurrentStepNumber = state =>\n  stepsArray.indexOf(selectCurrentStep(state));\n\nexport const getStepNameByNumber = stepNumber =>\n  stepsArray[stepNumber] || stepsArray[0];\n\nexport const getNextStepName = state => {\n  const currentStep = selectCurrentStep(state);\n  const nextStep = selectNextStep(currentStep);\n  return nextStep || currentStep;\n};\n\nexport const selectIsAnimationForward = state =>\n  state.questions.isAnimationForward;\n\nexport const selectNextStep = currentStep => {\n  const index = stepsArray.findIndex(val => val === currentStep);\n  return stepsArray[index + 1];\n};\n\nexport const selectPreviousStep = currentStep => {\n  const index = stepsArray.findIndex(val => val === currentStep);\n  return stepsArray[index - 1];\n};\n\nexport const selectCurrentQuestionData = state => {\n  return {};\n};\n\nexport const selectPercentageComplete = state => {\n  const currentStep = selectCurrentStep(state);\n  const currentStepIndex = stepsArray.findIndex(val => val === currentStep) + 1;\n\n  return (currentStepIndex * 100) / stepsArray.length;\n};\n\nconst defaultAnswer = {\n  applicantOne: null,\n  applicantTwo: null,\n};\nexport const selectCurrentAnswer = state => {\n  const currentStep = selectCurrentStep(state);\n  const currentValue = state.questions.steps[currentStep] || defaultAnswer;\n  return currentValue;\n};\n\nexport const isJoint = state =>\n  pathEq(\n    ['questions', 'steps', 'NumberOfApplicantsStep', 'applicantOne'],\n    '2',\n    state\n  );\n\nexport const selectNumberOfApplicants = state =>\n  path(['steps', 'NumberOfApplicantsStep', 'applicantOne'], state);\n\nconst getDataByStepAndApplicant = (state, step, applicant) =>\n  path(['questions', 'steps', step, applicant], state);\n\nexport const selectRequestData = state => {\n  const isJointApplication = isJoint(state);\n  let out = clone(requestSample);\n  let applicantKeys = ['applicantOne'];\n  if (isJointApplication) {\n    applicantKeys.push('applicantTwo');\n    // add another empty applicants object to the 'out' data structure\n    out.applicants.push(clone(out.applicants[0]));\n  }\n\n  /*\n   * Purchase details\n   */\n  out = set(\n    compose(\n      lensProp('purchaseDetails'),\n      lensProp('loanAmount')\n    ),\n    convertToNumber(path(['results', 'purchaseDetails', 'loanAmount'], state)),\n    out\n  );\n  out = set(\n    compose(\n      lensProp('purchaseDetails'),\n      lensProp('purchasePrice')\n    ),\n    convertToNumber(\n      path(['results', 'purchaseDetails', 'purchasePrice'], state)\n    ),\n    out\n  );\n  out = set(\n    compose(\n      lensProp('purchaseDetails'),\n      lensProp('loanPurpose')\n    ),\n    path(['results', 'purchaseDetails', 'loanPurpose'], state),\n    out\n  );\n\n  /*\n   * Applicant details\n   */\n  for (const [index, applicant] of applicantKeys.entries()) {\n    const applicantLens = compose(\n      lensProp('applicants'),\n      lensIndex(index)\n    );\n    out = set(\n      compose(\n        applicantLens,\n        lensProp('firstTimeBuyer')\n      ),\n      // The back end expects true or false rather than 'Yes' or 'No'\n      getDataByStepAndApplicant(state, 'FirstTimeBuyerStep', applicant) ===\n        'Yes' || false,\n      out\n    );\n    out = set(\n      compose(\n        applicantLens,\n        lensProp('dateOfBirth')\n      ),\n      // The back end expects YYYY-MM-DD rather than DD / MM / YYYY\n      getDataByStepAndApplicant(state, 'DateOfBirthStep', applicant)\n        .split('/')\n        .reverse()\n        .join('-')\n        .replace(/ /g, ''),\n      out\n    );\n    out = set(\n      compose(\n        applicantLens,\n        lensProp('dependants')\n      ),\n      Number(\n        getDataByStepAndApplicant(state, 'FinancialDependantsStep', applicant)\n      ),\n      out\n    );\n    out = set(\n      compose(\n        applicantLens,\n        lensProp('maritalStatus')\n      ),\n      // The back end expects 'M' for married, 'S' for single etc)\n      getDataByStepAndApplicant(state, 'MaritalStatusStep', applicant).charAt(\n        0\n      ),\n      out\n    );\n\n    /*\n     * Income details\n     */\n    const incomeData = getDataByStepAndApplicant(\n      state,\n      'IncomeStep',\n      applicant\n    );\n    for (let i = 0; i < Object.keys(incomeData).length; i++) {\n      out = set(\n        compose(\n          applicantLens,\n          lensProp('income'),\n          lensProp(Object.keys(incomeData)[i])\n        ),\n        convertToNumber(incomeData[Object.keys(incomeData)[i]]),\n        out\n      );\n    }\n\n    /*\n     * Outgoings details\n     */\n    const outgoingsData = getDataByStepAndApplicant(\n      state,\n      'OutgoingsStep',\n      applicant\n    );\n    for (let i = 0; i < Object.keys(outgoingsData).length; i++) {\n      out = set(\n        compose(\n          applicantLens,\n          lensProp('outgoings'),\n          lensProp(Object.keys(outgoingsData)[i])\n        ),\n        convertToNumber(outgoingsData[Object.keys(outgoingsData)[i]]),\n        out\n      );\n    }\n  }\n\n  function convertToNumber(value) {\n    if (typeof value === 'string') {\n      return euroValueToNumber(value);\n    } else if (Array.isArray(value)) {\n      return value.map(val => euroValueToNumber(val));\n    } else {\n      return value;\n    }\n  }\n\n  return out;\n};\n\nexport const selectIncomeData = state => {\n  const incomeStep = path(['questions', 'steps', 'IncomeStep'], state);\n  return mapSummaryScreenFinancialData(incomeStep);\n};\n\nexport const selectOutgoingsData = state => {\n  const outgoingsStep = path(['questions', 'steps', 'OutgoingsStep'], state);\n  return mapSummaryScreenFinancialData(outgoingsStep);\n};\n\nexport const selectAboutYouData = state => {\n  return pick(\n    [\n      'NumberOfApplicantsStep',\n      'FirstTimeBuyerStep',\n      'DateOfBirthStep',\n      'MaritalStatusStep',\n      'FinancialDependantsStep',\n    ],\n    path(['questions', 'steps'], state)\n  );\n};\n\n/*\n * Converts: { applicantOne: { basic: '20000', ... }, applicantTwo: { basic: '10000', ... } }\n * To: { basic: { applicantOne: '20000', applicantTwo: '10000' }, ... }\n * Used for the summary step.\n */\nfunction mapSummaryScreenFinancialData(data) {\n  let newStructure = {};\n\n  // Convert values to euro formatted values. Includes converting falsy values to 0:\n  const valueFormatter = value => {\n    const changeFalsyToZero = val => (!val ? 0 : val);\n    return Array.isArray(value)\n      ? value.map(val => formatAsCurrency(changeFalsyToZero(val), ''))\n      : formatAsCurrency(changeFalsyToZero(value), '');\n  };\n\n  Object.keys(data).map(key => {\n    return (\n      data[key] &&\n      Object.keys(data[key]).map(incomeType => {\n        // add the first applicant's details\n        if (!newStructure[incomeType]) {\n          return (newStructure[incomeType] = {\n            [key]: valueFormatter(data[key][incomeType]),\n          });\n          // add the second applicant's details if they exist\n        } else {\n          return (newStructure[incomeType][key] = valueFormatter(\n            data[key][incomeType]\n          ));\n        }\n      })\n    );\n  });\n\n  return newStructure;\n}\n\nexport const selectStateData = state => {\n  const out = selectRequestData(state);\n  return {\n    ...out,\n    // TODO: version?\n    version: '',\n    maxTermInYears: selectMaxTerm(state),\n    selectedLoan: selectTermData(state),\n  };\n};\n","import {\n  SAVE_ANSWER,\n  GOTO_STEP_BY_NUMBER,\n  GOTO_NEXT_STEP,\n  GOTO_PREVIOUS_STEP,\n  RESTART_CALCULATOR,\n} from './questions.types';\nimport {\n  getNextStepName,\n  selectPreviousStep,\n  selectNumberOfApplicants,\n  getStepNameByNumber,\n} from './questions.selectors';\nimport { stepsArray } from '../../ui/Steps/Steps.list';\n\nconst firstStep = stepsArray[0];\n\nconst initialQuestionsState = {\n  currentStep: firstStep,\n  isAnimationForward: true,\n  steps: {},\n};\n\nfunction questionsReducer(state = initialQuestionsState, action = {}) {\n  switch (action.type) {\n    case SAVE_ANSWER: {\n      const { data = {} } = action;\n      let { steps = {} } = state;\n      const { stepName, applicantOne, applicantTwo } = data;\n      if (stepName === 'NumberOfApplicantsStep') {\n        const currentNumApplicants = selectNumberOfApplicants(state);\n        const updatedNumApplicants = applicantOne;\n        if (updatedNumApplicants !== currentNumApplicants) {\n          // https://jira.aib.pri/browse/HO-12219\n          // Clear the applicant state if the number of applicants changes\n          steps = {};\n        }\n      }\n      const newSteps = { ...steps, [stepName]: { applicantOne, applicantTwo } };\n      return { ...state, steps: newSteps };\n    }\n    case GOTO_STEP_BY_NUMBER: {\n      const { stepNumber } = action;\n      const stepName = getStepNameByNumber(stepNumber);\n      return {\n        ...state,\n        currentStep: stepName,\n        isAnimationForward: false,\n      };\n    }\n    case GOTO_NEXT_STEP: {\n      const nextStep = getNextStepName(state);\n      return {\n        ...state,\n        currentStep: nextStep,\n        isAnimationForward: true,\n      };\n    }\n    case GOTO_PREVIOUS_STEP: {\n      const { currentStep } = state;\n      const previousStep = selectPreviousStep(currentStep);\n      return { ...state, currentStep: previousStep, isAnimationForward: false };\n    }\n    case RESTART_CALCULATOR: {\n      return { ...initialQuestionsState };\n    }\n    default:\n      return state;\n  }\n}\n\nexport default questionsReducer;\n","import { path } from 'ramda';\nimport {\n  POST_CALCULATION_STARTED,\n  POST_CALCULATION_SUCCESS,\n  POST_CALCULATION_FAILED,\n  POST_SAVE_STARTED,\n  POST_SAVE_SUCCESS,\n  POST_SAVE_FAILED,\n  SET_SELECTED_TERM_INDEX,\n  STORE_LOAN_PURPOSE,\n  STORE_LOAN_AMOUNT,\n  REMOVE_ERROR_CODE,\n  RESET_RESULTS,\n} from './results.types';\nimport {\n  selectDefaultTermIndex,\n  selectMaxLoanAmount,\n  selectMaxTerm,\n} from './results.selectors';\n\nconst initialResultsState = {\n  isPostCalculationInProgress: false,\n  isPostSaveInProgress: false,\n  loanDetailsTermwise: [{}],\n  purchaseDetails: {\n    loanAmount: 0,\n    purchasePrice: 0,\n    loanPurpose: 'F',\n  },\n  selectedTermIndex: '0',\n  errorCode: '',\n  maxLoanAmount: 0,\n  maxTerm: 0,\n};\n\nfunction resultsReducer(state = initialResultsState, action = {}) {\n  switch (action.type) {\n    case POST_CALCULATION_STARTED: {\n      return { ...state, isPostCalculationInProgress: true };\n    }\n    case POST_CALCULATION_SUCCESS: {\n      let maxLoanAmount = selectMaxLoanAmount(state);\n      let maxTerm = selectMaxTerm(state);\n      const loanDetailsTermwise = path(['data', 'loanDetailsTermwise'], action);\n      for (var key in loanDetailsTermwise) {\n        const loanAmount = loanDetailsTermwise[key].approvedLoanAmount;\n        const term = loanDetailsTermwise[key].termInYears;\n        maxLoanAmount = maxLoanAmount > loanAmount ? maxLoanAmount : loanAmount;\n        maxTerm = maxTerm > term ? maxTerm : term;\n      }\n      return {\n        ...state,\n        loanDetailsTermwise,\n        maxLoanAmount,\n        maxTerm,\n        isPostCalculationInProgress: false,\n      };\n    }\n    case SET_SELECTED_TERM_INDEX: {\n      // set the longest term by default:\n      const termKey =\n        action.data === undefined ? selectDefaultTermIndex(state) : action.data;\n      return { ...state, selectedTermIndex: termKey };\n    }\n    case STORE_LOAN_PURPOSE: {\n      return {\n        ...state,\n        purchaseDetails: { ...state.purchaseDetails, loanPurpose: action.data },\n      };\n    }\n    case STORE_LOAN_AMOUNT: {\n      return {\n        ...state,\n        purchaseDetails: { ...state.purchaseDetails, loanAmount: action.data },\n      };\n    }\n    case POST_CALCULATION_FAILED: {\n      return {\n        ...state,\n        errorCode: action.data,\n        isPostCalculationInProgress: false,\n      };\n    }\n    case POST_SAVE_STARTED: {\n      return { ...state, isPostSaveInProgress: true };\n    }\n    case POST_SAVE_SUCCESS: {\n      const { data } = action;\n      const { mcxCalcId } = data;\n      return { ...state, isPostSaveInProgress: false, mcxCalcId };\n    }\n    case POST_SAVE_FAILED: {\n      return { ...state, errorCode: action.data, isPostSaveInProgress: false };\n    }\n    case REMOVE_ERROR_CODE: {\n      return { ...state, errorCode: initialResultsState.errorCode };\n    }\n    case RESET_RESULTS: {\n      return { ...initialResultsState };\n    }\n    default:\n      return state;\n  }\n}\n\nexport default resultsReducer;\n","import React from 'react';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport { reducer } from './store/initReducers';\nimport { analyticsMiddleware } from './analytics/analyticsMiddleware';\n\nconst middleware = [thunk, analyticsMiddleware];\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\nconst store = createStore(reducer(), undefined, enhancer);\n\nexport default WrappedComponent => {\n  return function WithRedux(props) {\n    return (\n      <Provider store={store}>\n        <WrappedComponent {...props} />\n      </Provider>\n    );\n  };\n};\n","import { GOTO_NEXT_STEP } from '../store/questions/questions.types';\nimport { getNextStepName } from '../store/questions/questions.selectors';\n\nexport const analyticsMiddleware = store => next => action => {\n  const state = store.getState();\n  const dataLayer = window.dataLayer || [];\n  switch (action.type) {\n    case GOTO_NEXT_STEP: {\n      const nextStepName = getNextStepName(state);\n      dataLayer.push({ event: 'Pageview', pageName: nextStepName });\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  next(action);\n};\n","import { combineReducers } from 'redux';\nimport questions from './questions/questions.reducer';\nimport results from './results/results.reducer';\n\nexport const reducer = () => combineReducers({ questions, results });\n","import styled from 'styled-components';\nimport {\n  color,\n  fontSize,\n  fontFamily,\n} from '@aib/design-tokens/dist/design-tokens';\n\nexport const ToolbarTitle = styled.div`\n  font-size: ${fontSize.large};\n  font-family: ${fontFamily.medium};\n  color: ${color.darkPurple100};\n  margin: auto;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconLeftArrow from '@aib/uikit-react/dist/Icons/IconLeftArrow';\nimport IconClose from '@aib/uikit-react/dist/Icons/IconClose';\nimport UikitToolbar from '@aib/uikit-react/dist/Navigation/TopAppBar/TopAppBar';\nimport * as S from './Toolbar.styled';\n\nfunction Toolbar({\n  title,\n  hasBackButton,\n  hasCloseButton,\n  onClickBack,\n  onClickClose,\n}) {\n  function handleBackClick() {\n    hasBackButton && onClickBack();\n  }\n\n  function handleCloseClick() {\n    hasCloseButton && onClickClose();\n  }\n\n  return (\n    <UikitToolbar>\n      <IconLeftArrow\n        onClick={handleBackClick}\n        style={{ opacity: hasBackButton ? 1 : 0 }}\n      />\n      {title && <S.ToolbarTitle>{title}</S.ToolbarTitle>}\n      <IconClose\n        onClick={handleCloseClick}\n        style={{ opacity: hasCloseButton ? 1 : 0 }}\n      />\n    </UikitToolbar>\n  );\n}\n\nToolbar.propTypes = {\n  title: PropTypes.string.isRequired,\n  hasBackButton: PropTypes.bool.isRequired,\n  hasCloseButton: PropTypes.bool.isRequired,\n  onClickBack: PropTypes.func.isRequired,\n  onClickClose: PropTypes.func.isRequired,\n};\n\nexport default Toolbar;\n","import styled from 'styled-components';\n\nexport const StepContainer = styled.div`\n  position: absolute;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  transition: transform 500ms ease;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { animated, useTransition } from 'react-spring';\nimport Steps from '../Steps.list';\nimport * as S from './Step.styled';\n\nfunction Step({\n  currentQuestionData,\n  currentStoreValue,\n  onClickContinue,\n  onChangeValue,\n  isJoint,\n  stepName,\n  isAnimationForward,\n}) {\n  function handleValueChange(key, applicantOne, applicantTwo) {\n    onChangeValue(key, applicantOne, applicantTwo);\n  }\n\n  function handleClickContinue() {\n    onClickContinue();\n  }\n\n  const commonProps = {\n    question: currentQuestionData,\n    currentStoreValue,\n    onChangeValue: handleValueChange,\n    onClickContinue: handleClickContinue,\n    isJoint,\n    stepName,\n  };\n\n  const transitions = useTransition(stepName, null, {\n    from: {\n      opacity: 0,\n      transform: isAnimationForward\n        ? 'translate3d(100%,0,0)'\n        : 'translate3d(-100%,0,0)',\n    },\n    enter: {\n      opacity: 1,\n      transform: 'translate3d(0%,0,0)',\n    },\n    leave: {\n      opacity: 1,\n      transform: isAnimationForward\n        ? 'translate3d(-100%,0,0)'\n        : 'translate3d(100%,0,0)',\n    },\n  });\n\n  return transitions.map(({ item, props, key }) => {\n    return (\n      <animated.div key={key} style={props}>\n        <S.StepContainer>\n          {React.createElement(Steps[item], commonProps)}\n        </S.StepContainer>\n      </animated.div>\n    );\n  });\n}\n\nStep.propTypes = {\n  isAnimationForward: PropTypes.bool.isRequired,\n  currentQuestionData: PropTypes.object,\n  currentStoreValue: PropTypes.any,\n  onClickContinue: PropTypes.func.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  isJoint: PropTypes.bool.isRequired,\n  stepName: PropTypes.string.isRequired,\n};\n\nexport default Step;\n","import { connect } from 'react-redux';\nimport {\n  saveAnswer,\n  gotoNextStep,\n} from '../../../store/questions/questions.actions';\nimport {\n  selectIsAnimationForward,\n  selectCurrentStep,\n  selectCurrentQuestionData,\n  selectCurrentAnswer,\n  isJoint,\n} from '../../../store/questions/questions.selectors';\nimport Step from './Step';\n\nconst mapDispatchToProps = {\n  onChangeValue: saveAnswer,\n  onClickContinue: gotoNextStep,\n};\n\nconst mapStateToProps = state => {\n  const currentQuestionData = selectCurrentQuestionData(state);\n  const stepName = selectCurrentStep(state);\n  return {\n    isAnimationForward: selectIsAnimationForward(state),\n    currentQuestionData,\n    currentStoreValue: selectCurrentAnswer(state),\n    isJoint: isJoint(state),\n    stepName,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Step);\n","import styled from 'styled-components';\n\nexport const DebugToolbar = styled.div`\n  position: fixed;\n  top: 40vh;\n  left: 0px;\n  z-index: 999999;\n  background-color: lightgray;\n  overflow-x: hidden;\n  padding-left: 5px;\n`;\n","import React, { useState } from 'react';\n\nimport { postCalculatorData, postCalculatorState } from '../../api/restApi';\nimport req from '../../api/state.request.sample.json';\n\nimport * as S from './DebugToolbar.styled';\n\nexport default function DebugToolbar(args) {\n  const [isDebugBarVisible, setIsDebugBarVisible] = useState(false);\n  const maxWidth = isDebugBarVisible ? '' : 0;\n\n  function onClickCalculate() {\n    console.log('POST calculation');\n    postCalculatorData();\n  }\n\n  function onClickSave() {\n    console.log('POST save state');\n    postCalculatorState(req);\n  }\n\n  function showDebugBar() {\n    setIsDebugBarVisible(true);\n  }\n\n  return (\n    <S.DebugToolbar onClick={showDebugBar} style={{ maxWidth: maxWidth }}>\n      <h3>Debug</h3>\n      <button onClick={onClickCalculate}>Calculate</button>{' '}\n      <button onClick={onClickSave}>Save State</button>{' '}\n    </S.DebugToolbar>\n  );\n}\n","import styled from 'styled-components';\n\nexport const PageBody = styled.div`\n  max-width: 1200px;\n  width: 100vw;\n  margin: auto;\n  height: 100vh;\n  margin: 0px auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n`;\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport * as S from './PageBody.styled';\n\nfunction PageBody({ children }) {\n  const pageBodyElem = useRef(null);\n\n  // scroll to the top when you go to the next page:\n  if (pageBodyElem.current) {\n    pageBodyElem.current.scrollTop = 0;\n  }\n\n  return <S.PageBody ref={pageBodyElem}>{children}</S.PageBody>;\n}\n\nPageBody.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default PageBody;\n","import { connect } from 'react-redux';\nimport ProgressBar from '@aib/uikit-react/dist/Workflow/ProgressBar/ProgressBar';\nimport { selectPercentageComplete } from '../../../store/questions/questions.selectors';\n\nconst mapStateToProps = state => ({\n  percentageComplete: selectPercentageComplete(state),\n});\n\nexport default connect(mapStateToProps)(ProgressBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport ProgressBarConnected from './ProgressBarConnected';\n\nconst ProgressBarStyled = styled.div`\n  margin-top: ${props => (props.isNavBarVisible ? '44px' : '0px')};\n  box-sizing: border-box;\n  padding: 0px 37px;\n`;\n\nconst ProgressBarContainer = function({ isNavBarVisible = true }) {\n  return (\n    <ProgressBarStyled isNavBarVisible={isNavBarVisible}>\n      <ProgressBarConnected />\n    </ProgressBarStyled>\n  );\n};\n\nProgressBarContainer.propTypes = {\n  isNavBarVisible: PropTypes.bool,\n};\n\nexport default ProgressBarContainer;\n","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport Toolbar from './Navigation/Toolbar/Toolbar';\nimport packageJson from '../../package.json';\nimport StepConnected from './Steps/Step/StepConnected';\nimport DebugToolbar from './Debug/DebugToolbar';\nimport PageBody from './Layout/PageBody/PageBody';\nimport ProgressBarContainer from './Layout/ProgressBar/ProgressBarContainer';\nimport { stepsArray } from './Steps/Steps.list';\n\nimport { setFetchImplementation, setApiBaseUrl } from '../api/restApi';\n\n// Log the Calculator Version to the Browser Console\nconsole.log('@aib/mortgage-calculator package.version', packageJson.version);\n\nfunction Calculator({\n  onClickBack,\n  currentStep,\n  currentStepNumber,\n  hostStepNumber,\n  apiBaseUrl = '',\n  onCloseCalculator,\n  isCalcNavBarVisible = true,\n  isDebugToolbarVisible = false,\n  fetchImplementation,\n  gotoStepNumber,\n  onChangeStepNumber,\n}) {\n  console.log({ apiBaseUrl, onCloseCalculator, fetchImplementation });\n  console.log({ currentStepNumber, hostStepNumber });\n\n  useEffect(() => {\n    setFetchImplementation(fetchImplementation);\n    apiBaseUrl && setApiBaseUrl(apiBaseUrl);\n  }, [fetchImplementation, apiBaseUrl]);\n\n  /* eslint-disable */\n  useEffect(() => {\n    console.log(\n      'Calc: sending updated page number to host:',\n      currentStepNumber\n    );\n    onChangeStepNumber && onChangeStepNumber(currentStepNumber);\n  }, [currentStepNumber]);\n\n  useEffect(() => {\n    console.log('Calc: Received stepNumber from host:', hostStepNumber);\n    if (hostStepNumber !== currentStepNumber) {\n      gotoStepNumber(hostStepNumber);\n    }\n  }, [hostStepNumber]);\n  /* eslint-enable */\n\n  function handleCloseClick() {\n    onCloseCalculator &&\n      onCloseCalculator(\n        'This is a message from the calculator to establish comms'\n      );\n  }\n\n  return (\n    <div id=\"MortgageCalculator\">\n      {isDebugToolbarVisible && <DebugToolbar />}\n\n      {isCalcNavBarVisible && (\n        <Toolbar\n          onClickBack={onClickBack}\n          onClickClose={handleCloseClick}\n          hasBackButton={currentStep !== stepsArray[0]}\n          hasCloseButton={true}\n          title=\"How much can I borrow?\"\n        />\n      )}\n      <PageBody>\n        <ProgressBarContainer isNavBarVisible={isCalcNavBarVisible} />\n        <StepConnected fetchImplementation={fetchImplementation} />\n      </PageBody>\n    </div>\n  );\n}\n\nCalculator.propTypes = {\n  apiBaseUrl: PropTypes.string,\n  currentStep: PropTypes.string.isRequired,\n  currentStepNumber: PropTypes.number.isRequired,\n  hostStepNumber: PropTypes.number,\n  fetchImplementation: PropTypes.func,\n  onClickBack: PropTypes.func.isRequired,\n  onCloseCalculator: PropTypes.func,\n  isCalcNavBarVisible: PropTypes.bool,\n  isDebugToolbarVisible: PropTypes.bool,\n  gotoStepNumber: PropTypes.func.isRequired,\n  onChangeStepNumber: PropTypes.func,\n};\nexport default Calculator;\n","import { connect } from 'react-redux';\nimport {\n  gotoPreviousStep,\n  gotoStepByNumber,\n} from '../store/questions/questions.actions';\nimport {\n  selectCurrentStep,\n  selectCurrentStepNumber,\n} from '../store/questions/questions.selectors';\nimport Calculator from './Calculator';\n\nconst mapDispatchToProps = dispatch => ({\n  onClickBack: () => dispatch(gotoPreviousStep()),\n  gotoStepNumber: stepNumber => dispatch(gotoStepByNumber(stepNumber)),\n});\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log({ ownProps });\n  return {\n    ...ownProps,\n    currentStep: selectCurrentStep(state),\n    currentStepNumber: selectCurrentStepNumber(state),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Calculator);\n","import withRedux from '../withRedux';\nimport CalculatorConnected from './CalculatorConnected';\n\nconst CalculatorWithRedux = withRedux(CalculatorConnected);\n\nexport default CalculatorWithRedux;\n","import '@aib/font-aspira/dist/aib-font-aspira.cdn.css';\nimport '@aib/font-aspira/dist/aib-typography.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport CalculatorWithRedux from './ui/CalculatorWithRedux';\n\nconst root = document.getElementById('root');\n\nif (root !== null) {\n  ReactDOM.render(\n    <div className=\"aib-typography\">\n      <CalculatorWithRedux\n        isCalcNavBarVisible={true}\n        isDebugToolbarVisible={true}\n      />\n    </div>,\n    root\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/arrow-left.161c3c1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/caret-down.2d4523ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/pencil.8809d3cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.5c2fd0c2.svg\";","module.exports = __webpack_public_path__ + \"static/media/cross.91159e72.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_bonus_48.ea94feed.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_bonus_2_48.3578f494.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_car_allowance_48.a36ccb54.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_car_loan_48.356ed0b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_child_maintenance_48.b565d571.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_childcare_48.1b5dab64.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_commission_48.df458551.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_credcard_48.4a2a1e16.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_email_48.21ab65da.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_employment_48.9a351186.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_mobphone_48.1cb78af4.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_other_48.925047e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_other_income_48.4b562091.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_overdraft_48.da108a8f.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_overtime_48.ecbb8309.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_pensions_48.bc49e707.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_personal_loan_48.bfd8b6b4.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_PPSN_48.3f6c1abb.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_rental_income_48.2469ae2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_savings_48.a43d2f96.svg\";","module.exports = __webpack_public_path__ + \"static/media/ic_shift_allowance_48.b7670130.svg\";"],"sourceRoot":""}